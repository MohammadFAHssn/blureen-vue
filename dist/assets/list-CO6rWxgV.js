import{u as h,A as V,F as y,M as C,a as n}from"./useAGGridTheme-D6SLXgJ2.js";import{u as g}from"./useApi-BCO1pqL3.js";import{c as w}from"./createUrl-BmkC6xHO.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as k}from"./VSnackbar-BzqXBPIy.js";import{r as R,Y as s,bq as D,c as i,b as d,l as F,e as G,m as r,F as B,o as c,t as E}from"./index-BzAndqZf.js";import"./VChip-BLd5M24q.js";import"./VAvatar-D39HUfUf.js";import"./VImg-KUWbfiAG.js";import"./transition-Dcb29XTa.js";import"./index-9rIf2CJL.js";import"./VOverlay-C1dD-C4a.js";const I={key:0,class:"ag-grid-sec"},S={__name:"list",async setup(U){let t,m;const{theme:u}=h(),f={filter:!0},p=R([{headerName:"کد پرسنلی",field:"personnelCode",flex:1},{headerName:"نام",field:"firstName",flex:2},{headerName:"نام خانوادگی",field:"lastName",flex:2},{headerName:"نوع کاربر",field:"roles",flex:3,cellRenderer:C,cellStyle:{display:"flex","align-items":"center"}},{headerName:"شماره تلفن",field:"mobileNumber",flex:2},{headerName:"وضعیت",field:"active",flex:1,cellRenderer:n,filterParams:{cellRenderer:n},cellStyle:{display:"flex","align-items":"center"}}]),_=s(()=>{var a;return(a=b.value)==null?void 0:a.map(e=>{var l;return{personnelCode:e.personnel_code,firstName:e.first_name,lastName:e.last_name,roles:(l=e.roles)==null?void 0:l.map(v=>v.name),mobileNumber:e.mobile_number,active:e.active}})}),{execute:z,data:x,error:N}=([t,m]=D(()=>g(w("/get?fields[roles]=name&include=roles&model=base.user"))),t=await t,m(),t),o=s(()=>!!N.value),b=s(()=>{var a;return(a=x.value)==null?void 0:a.data});return(a,e)=>(c(),i(B,null,[d(k,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=l=>o.value=l),timeout:2e3,location:"center",variant:"outlined",color:"error"},{default:G(()=>e[1]||(e[1]=[E(" خطایی رخ داده‌است ")])),_:1},8,["modelValue"]),o.value?F("",!0):(c(),i("section",I,[d(r(y),{style:{"block-size":"100%","inline-size":"100%"},"column-defs":r(p),"row-data":_.value,"default-col-def":f,"enable-rtl":!0,"row-numbers":!0,pagination:!0,"locale-text":r(V),theme:r(u)},null,8,["column-defs","row-data","locale-text","theme"])]))],64))}},W=A(S,[["__scopeId","data-v-e97ddddd"]]);export{W as default};
