import{V as W}from"./VCounter-weFYZeBn.js";import{V as D,m as X}from"./VField-D0InP9x9.js";import{V as N,m as Z}from"./VInput-BcKA6MXF.js";import{u as $}from"./form-CYgMbtoI.js";import{f as ee}from"./VOverlay-C-ORRKTC.js";import{au as te,a5 as ne,cf as R,aC as le,Y as m,r as y,aa as ae,bc as ue,b as C,s as g,d as a,F as h,bx as oe,K as ie,cO as se,y as re,at as k,bH as ce}from"./index-s0RY1Vh3.js";function de(e){function x(o,c){var n,l;!e.autofocus||!o||(l=(n=c[0].target)==null?void 0:n.focus)==null||l.call(n)}return{onIntersect:x}}const fe=["color","file","time","date","datetime-local","week","month"],ve=ne({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Z(),...X()},"VTextField"),ke=te()({name:"VTextField",directives:{vIntersect:R},inheritAttrs:!1,props:ve(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,x){let{attrs:o,emit:c,slots:n}=x;const l=le(e,"modelValue"),{isFocused:i,focus:b,blur:T}=$(e),{onIntersect:M}=de(e),p=m(()=>typeof e.counterValue=="function"?e.counterValue(l.value):typeof e.counterValue=="number"?e.counterValue:(l.value??"").toString().length),E=m(()=>{if(o.maxlength)return o.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),F=m(()=>["plain","underlined"].includes(e.variant)),P=y(),I=y(),s=y(),O=m(()=>fe.includes(e.type)||e.persistentPlaceholder||i.value||e.active);function _(){i.value||b(),k(()=>{var t;s.value!==document.activeElement&&((t=s.value)==null||t.focus())})}function z(t){c("mousedown:control",t),t.target!==s.value&&(_(),t.preventDefault())}function U(t){c("click:control",t)}function j(t,u){t.stopPropagation(),_(),k(()=>{l.value=null,u(),ce(e["onClick:clear"],t)})}function H(t){var d;const u=t.target;if(l.value=u.value,(d=e.modelModifiers)!=null&&d.trim&&["text","search","password","tel","url"].includes(e.type)){const f=[u.selectionStart,u.selectionEnd];k(()=>{u.selectionStart=f[0],u.selectionEnd=f[1]})}}return ae(()=>{const t=!!(n.counter||e.counter!==!1&&e.counter!=null),u=!!(t||n.details),[d,f]=ue(o),{modelValue:me,...K}=N.filterProps(e),Y=D.filterProps(e);return C(N,g({ref:P,modelValue:l.value,"onUpdate:modelValue":r=>l.value=r,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":F.value},e.class],style:e.style},d,K,{centerAffix:!F.value,focused:i.value}),{...n,default:r=>{let{id:v,isDisabled:S,isDirty:w,isReadonly:q,isValid:G,hasDetails:J,reset:L}=r;return C(D,g({ref:I,onMousedown:z,onClick:U,"onClick:clear":V=>j(V,L),"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},oe(Y,["onClick:clear"]),{id:v.value,active:O.value||w.value,dirty:w.value||e.dirty,disabled:S.value,focused:i.value,details:J.value,error:G.value===!1}),{...n,default:V=>{let{props:{class:A,...Q}}=V;const B=ie(a("input",g({ref:s,value:l.value,onInput:H,autofocus:e.autofocus,readonly:q.value,disabled:S.value,name:e.name,placeholder:e.placeholder,size:1,role:e.role,type:e.type,onFocus:b,onBlur:T},Q,f),null),[[R,{handler:M},null,{once:!0}]]);return a(h,null,[e.prefix&&a("span",{class:"v-text-field__prefix"},[a("span",{class:"v-text-field__prefix__text"},[e.prefix])]),n.default?a("div",{class:re(A),"data-no-activator":""},[n.default(),B]):se(B,{class:A}),e.suffix&&a("span",{class:"v-text-field__suffix"},[a("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:u?r=>{var v;return a(h,null,[(v=n.details)==null?void 0:v.call(n,r),t&&a(h,null,[a("span",null,null),C(W,{active:e.persistentCounter||i.value,value:p.value,max:E.value,disabled:e.disabled},n.counter)])])}:void 0})}),ee({},P,I,s)}});export{ke as V,ve as m,de as u};
