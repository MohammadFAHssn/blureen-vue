import{_ as R}from"./AppTextField-CQNIsdj1.js";import{_ as j,a as W,V as G,b as H}from"./VDataTableServer-BVGCIwma.js";import{V as M}from"./VCard-DXcjfOJf.js";import{V as O}from"./VCardText-CZNoYR5e.js";import{V as J}from"./VForm-DJXMn8e_.js";import{c as K}from"./createSimpleFunctional-CYWM2pfs.js";import{an as Y,a2 as Z,aw as Q,Y as w,aE as X,bl as ee,bm as te,aG as ae,ap as se,aH as le,aI as oe,au as ie,aq as ne,Z as re,bi as me,b as t,bn as de,aJ as ue,aK as ce,am as pe,aL as ve,aM as fe,al as ge,aN as ye,bo as be,a9 as Ve,bk as _e,bp as xe,$ as F,aW as L,ah as N,q as ke,r as c,w as Pe,f as q,o as $,e as o,d as y,v as P,t as T,b8 as g,m as r,bq as Ce,a as De,c as Ae,F as we,h as Se}from"./index-DsV59Zcv.js";import{V as Be}from"./VCheckbox-CBRxdgWb.js";import{V as he}from"./VDialog-Dh2DiOJG.js";import{u as $e}from"./useApi-BiCDbMhn.js";import{c as Ne}from"./createUrl-CoA6Wuty.js";import{V as Te}from"./VCol-fwToK8t6.js";import{V as Ue}from"./VDivider-DKe02LUU.js";import{V as ze}from"./VChip-BAAhVfJp.js";import{V as Ie}from"./VRow-_6mtaTM7.js";import"./form-D1CwYAlI.js";import"./VTextField-DrKen2VR.js";import"./transition-R_Y3uXca.js";import"./VField-8wMICTEb.js";import"./VOverlay-CwZnUSSr.js";import"./VInput-lFl7uHXS.js";import"./VImg-qJub9NKa.js";import"./VList-C7Q49cAr.js";import"./VAvatar-DgjyxlBM.js";import"./dialog-transition-DPpmNHYz.js";import"./VMenu-CDcOzumK.js";import"./VSelectionControl-BzqoXfmn.js";import"./index-9rIf2CJL.js";/* empty css              */const Ee=K("v-alert-title"),Fe=["success","info","warning","error"],qe=Z({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:_e,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>Fe.includes(e)},...Ve(),...be(),...ye(),...ge(),...fe(),...ve(),...pe(),...ce(),...ue(),...de({variant:"flat"})},"VAlert"),Le=Y()({name:"VAlert",props:qe(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,p){let{emit:m,slots:s}=p;const n=Q(e,"modelValue"),i=w(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),d=w(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:x}=X(e),{colorClasses:b,colorStyles:C,variantClasses:v}=ee(d),{densityClasses:f}=te(e),{dimensionStyles:k}=ae(e),{elevationClasses:S}=se(e),{locationStyles:B}=le(e),{positionClasses:U}=oe(e),{roundedClasses:h}=ie(e),{textColorClasses:z,textColorStyles:V}=ne(re(e,"borderColor")),{t:a}=me(),_=w(()=>({"aria-label":a(e.closeLabel),onClick(D){n.value=!1,m("click:close",D)}}));return()=>{const D=!!(s.prepend||i.value),I=!!(s.title||e.title),E=!!(s.close||e.closable);return n.value&&t(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},x.value,b.value,f.value,S.value,U.value,h.value,v.value,e.class],style:[C.value,k.value,B.value,e.style],role:"alert"},{default:()=>{var A,l;return[xe(!1,"v-alert"),e.border&&t("div",{key:"border",class:["v-alert__border",z.value],style:V.value},null),D&&t("div",{key:"prepend",class:"v-alert__prepend"},[s.prepend?t(L,{key:"prepend-defaults",disabled:!i.value,defaults:{VIcon:{density:e.density,icon:i.value,size:e.prominent?44:28}}},s.prepend):t(F,{key:"prepend-icon",density:e.density,icon:i.value,size:e.prominent?44:28},null)]),t("div",{class:"v-alert__content"},[I&&t(Ee,{key:"title"},{default:()=>{var u;return[((u=s.title)==null?void 0:u.call(s))??e.title]}}),((A=s.text)==null?void 0:A.call(s))??e.text,(l=s.default)==null?void 0:l.call(s)]),s.append&&t("div",{key:"append",class:"v-alert__append"},[s.append()]),E&&t("div",{key:"close",class:"v-alert__close"},[s.close?t(L,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var u;return[(u=s.close)==null?void 0:u.call(s,{props:_.value})]}}):t(N,ke({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},_.value),null)])]}})}}}),Re={class:"text-h4 text-center mb-2"},Me={class:"text-body-1 text-center mb-6"},Oe={class:"d-flex gap-4 mb-6 flex-wrap flex-column flex-sm-row"},je={__name:"AddEditPermissionDialog",props:{isDialogVisible:{type:Boolean,required:!0},permissionName:{type:String,required:!1,default:""}},emits:["update:isDialogVisible","update:permissionName"],setup(e,{emit:p}){const m=e,s=p,n=c(""),i=()=>{s("update:isDialogVisible",!1),n.value=""},d=()=>{s("update:isDialogVisible",!1),s("update:permissionName",n.value)};return Pe(()=>m,()=>{n.value=m.permissionName}),(x,b)=>{const C=j,v=R;return $(),q(he,{width:x.$vuetify.display.smAndDown?"auto":600,"model-value":m.isDialogVisible,"onUpdate:modelValue":i},{default:o(()=>[t(C,{onClick:i}),t(M,{class:"pa-2 pa-sm-10"},{default:o(()=>[t(O,null,{default:o(()=>[y("h4",Re,P(m.permissionName?"Edit":"Add")+" Permission ",1),y("p",Me,P(m.permissionName?"Edit":"Add")+" permission as per your requirements. ",1),t(J,null,{default:o(()=>[t(Le,{type:"warning",title:"Warning!",variant:"tonal",class:"mb-6"},{text:o(()=>[T(" By "+P(m.permissionName?"editing":"adding")+" the permission name, you might break the system permissions functionality. ",1)]),_:1}),y("div",Oe,[t(v,{modelValue:r(n),"onUpdate:modelValue":b[0]||(b[0]=f=>g(n)?n.value=f:null),placeholder:"Enter Permission Name"},null,8,["modelValue"]),t(N,{onClick:d},{default:o(()=>[T(P(m.permissionName?"Update":"Add"),1)]),_:1})]),t(Be,{label:"Set as core permission"})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}},We={class:"d-flex gap-2 align-center"},Ge={class:"d-flex align-center gap-4 flex-wrap"},He={class:"text-high-emphasis text-body-1"},Je={class:"d-flex gap-4"},Ct={__name:"index",async setup(e){let p,m;const s=[{title:"Name",key:"name"},{title:"Assigned To",key:"assignedTo",sortable:!1},{title:"Created Date",key:"createdDate",sortable:!1},{title:"Actions",key:"actions",sortable:!1}],n=c(""),i=c(10),d=c(1),x=c(),b=c(),C=V=>{var a,_;x.value=(a=V.sortBy[0])==null?void 0:a.key,b.value=(_=V.sortBy[0])==null?void 0:_.order},v=c(!1),f=c(!1),k=c(""),S={support:{color:"info",text:"Support"},users:{color:"success",text:"Users"},manager:{color:"warning",text:"Manager"},administrator:{color:"primary",text:"Administrator"},"restricted-user":{color:"error",text:"Restricted User"}},{data:B}=([p,m]=Ce(()=>$e(Ne("/apps/permissions",{query:{q:n,itemsPerPage:i,page:d,sortBy:x,orderBy:b}}))),p=await p,m(),p),U=w(()=>B.value.permissions),h=w(()=>B.value.totalPermissions),z=V=>{v.value=!0,k.value=V};return(V,a)=>{const _=W,D=R,I=H,E=De("IconBtn"),A=je;return $(),q(Ie,null,{default:o(()=>[t(Te,{cols:"12"},{default:o(()=>[t(M,null,{default:o(()=>[t(O,{class:"d-flex align-center justify-space-between flex-wrap gap-4"},{default:o(()=>[y("div",We,[a[9]||(a[9]=y("p",{class:"text-body-1 mb-0"}," Show ",-1)),t(_,{"model-value":r(i),items:[{value:5,title:"5"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":a[0]||(a[0]=l=>i.value=parseInt(l,10))},null,8,["model-value"])]),y("div",Ge,[t(D,{modelValue:r(n),"onUpdate:modelValue":a[1]||(a[1]=l=>g(n)?n.value=l:null),placeholder:"Search Permission",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),t(N,{density:"default","prepend-icon":"tabler-plus",onClick:a[2]||(a[2]=l=>f.value=!0)},{default:o(()=>a[10]||(a[10]=[T(" Add Permission ")])),_:1})])]),_:1}),t(Ue),t(G,{"items-per-page":r(i),"onUpdate:itemsPerPage":a[4]||(a[4]=l=>g(i)?i.value=l:null),page:r(d),"onUpdate:page":a[5]||(a[5]=l=>g(d)?d.value=l:null),"items-length":r(h),"items-per-page-options":[{value:5,title:"5"},{value:10,title:"10"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],headers:s,items:r(U),"item-value":"name",class:"text-no-wrap","onUpdate:options":C},{"item.name":o(({item:l})=>[y("div",He,P(l.name),1)]),"item.assignedTo":o(({item:l})=>[y("div",Je,[($(!0),Ae(we,null,Se(l.assignedTo,u=>($(),q(ze,{key:u,label:"",size:"small",color:S[u].color,class:"font-weight-medium"},{default:o(()=>[T(P(S[u].text),1)]),_:2},1032,["color"]))),128))])]),bottom:o(()=>[t(I,{page:r(d),"onUpdate:page":a[3]||(a[3]=l=>g(d)?d.value=l:null),"items-per-page":r(i),"total-items":r(h)},null,8,["page","items-per-page","total-items"])]),"item.actions":o(({item:l})=>[t(N,{icon:"",size:"small",color:"medium-emphasis",variant:"text",onClick:u=>z(l.name)},{default:o(()=>[t(F,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"]),t(E,null,{default:o(()=>[t(F,{icon:"tabler-dots-vertical",size:"22"})]),_:1})]),_:1},8,["items-per-page","page","items-length","items"])]),_:1}),t(A,{"is-dialog-visible":r(v),"onUpdate:isDialogVisible":a[6]||(a[6]=l=>g(v)?v.value=l:null),"permission-name":r(k),"onUpdate:permissionName":a[7]||(a[7]=l=>g(k)?k.value=l:null)},null,8,["is-dialog-visible","permission-name"]),t(A,{"is-dialog-visible":r(f),"onUpdate:isDialogVisible":a[8]||(a[8]=l=>g(f)?f.value=l:null)},null,8,["is-dialog-visible"])]),_:1})]),_:1})}}};export{Ct as default};
