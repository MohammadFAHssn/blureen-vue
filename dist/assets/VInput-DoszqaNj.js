import{a as X,m as ee,d as ae}from"./form-CXkrWuCp.js";import{au as j,a5 as $,Y as u,bF as x,ax as ne,aa as J,b as B,J as K,y as Z,bE as te,bC as se,ac as q,cN as le,d as b,U as ie,Z as M,cO as ue,bb as G,aC as re,r as oe,a6 as H,bU as de,n as ce,aW as ve,aY as ge,H as me,a_ as U,w as P,at as fe,cd as ye,aM as he,aK as be,ap as Ve,aP as Ce,co as Se,bR as Ie,c5 as W,bD as Y,aT as pe}from"./index-D1NhewP6.js";const Me=$({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...q(),...se({transition:{component:le,leaveAbsolute:!0,group:!0}})},"VMessages"),ke=j()({name:"VMessages",props:Me(),setup(e,l){let{slots:V}=l;const n=u(()=>x(e.messages)),{textColorClasses:c,textColorStyles:t}=ne(()=>e.color);return J(()=>B(te,{transition:e.transition,tag:"div",class:Z(["v-messages",c.value,e.class]),style:K([t.value,e.style])},{default:()=>[e.active&&n.value.map((f,r)=>b("div",{class:"v-messages__message",key:`${r}-${n.value}`},[V.message?V.message({message:f}):f]))]})),{}}}),we=Symbol.for("vuetify:rules");function Pe(e){const l=ie(we,null);if(!e){if(!l)throw new Error("Could not find Vuetify rules injection");return l.aliases}return(l==null?void 0:l.resolve(e))??M(e)}const xe=$({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...ee()},"validation");function Be(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ue(),V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:G();const n=re(e,"modelValue"),c=u(()=>e.validationValue===void 0?n.value:e.validationValue),t=X(e),f=Pe(()=>e.rules),r=oe([]),y=H(!0),C=u(()=>!!(x(n.value===""?null:n.value).length||x(c.value===""?null:c.value).length)),h=u(()=>{var a;return(a=e.errorMessages)!=null&&a.length?x(e.errorMessages).concat(r.value).slice(0,Math.max(0,Number(e.maxErrors))):r.value}),i=u(()=>{var v;let a=(e.validateOn??((v=t.validateOn)==null?void 0:v.value))||"input";a==="lazy"&&(a="input lazy"),a==="eager"&&(a="input eager");const s=new Set((a==null?void 0:a.split(" "))??[]);return{input:s.has("input"),blur:s.has("blur")||s.has("input")||s.has("invalid-input"),invalidInput:s.has("invalid-input"),lazy:s.has("lazy"),eager:s.has("eager")}}),o=u(()=>{var a;return e.error||(a=e.errorMessages)!=null&&a.length?!1:e.rules.length?y.value?r.value.length||i.value.lazy?null:!0:!r.value.length:!0}),S=H(!1),D=u(()=>({[`${l}--error`]:o.value===!1,[`${l}--dirty`]:C.value,[`${l}--disabled`]:t.isDisabled.value,[`${l}--readonly`]:t.isReadonly.value})),R=de("validation"),m=u(()=>e.name??ce(V));ve(()=>{var a;(a=t.register)==null||a.call(t,{id:m.value,vm:R,validate:d,reset:I,resetValidation:p})}),ge(()=>{var a;(a=t.unregister)==null||a.call(t,m.value)}),me(async()=>{var a;i.value.lazy||await d(!i.value.eager),(a=t.update)==null||a.call(t,m.value,o.value,h.value)}),U(()=>i.value.input||i.value.invalidInput&&o.value===!1,()=>{P(c,()=>{if(c.value!=null)d();else if(e.focused){const a=P(()=>e.focused,s=>{s||d(),a()})}})}),U(()=>i.value.blur,()=>{P(()=>e.focused,a=>{a||d()})}),P([o,h],()=>{var a;(a=t.update)==null||a.call(t,m.value,o.value,h.value)});async function I(){n.value=null,await fe(),await p()}async function p(){y.value=!0,i.value.lazy?r.value=[]:await d(!i.value.eager)}async function d(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const s=[];S.value=!0;for(const v of f.value){if(s.length>=Number(e.maxErrors??1))break;const g=await(typeof v=="function"?v:()=>v)(c.value);if(g!==!0){if(g!==!1&&typeof g!="string"){console.warn(`${g} is not a valid value. Rule functions must return boolean true or a string.`);continue}s.push(g||"")}}return r.value=s,S.value=!1,y.value=a,r.value}return{errorMessages:h,isDirty:C,isDisabled:t.isDisabled,isReadonly:t.isReadonly,isPristine:y,isValid:o,isValidating:S,reset:I,resetValidation:p,validate:d,validationClasses:D}}const De=$({id:String,appendIcon:Y,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:Y,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":W(),"onClick:append":W(),...q(),...Ie(),...Se(pe(),["maxWidth","minWidth","width"]),...Ce(),...xe()},"VInput"),_e=j()({name:"VInput",props:{...De()},emits:{"update:modelValue":e=>!0},setup(e,l){let{attrs:V,slots:n,emit:c}=l;const{densityClasses:t}=ye(e),{dimensionStyles:f}=he(e),{themeClasses:r}=be(e),{rtlClasses:y}=Ve(),{InputIcon:C}=ae(e),h=G(),i=u(()=>e.id||`input-${h}`),{errorMessages:o,isDirty:S,isDisabled:D,isReadonly:R,isPristine:m,isValid:I,isValidating:p,reset:d,resetValidation:a,validate:s,validationClasses:v}=Be(e,"v-input",i),z=u(()=>{var w;return(w=e.errorMessages)!=null&&w.length||!m.value&&o.value.length?o.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages}),g=M(()=>z.value.length>0),_=M(()=>!e.hideDetails||e.hideDetails==="auto"&&(g.value||!!n.details)),A=u(()=>_.value?`${i.value}-messages`:void 0),k=u(()=>({id:i,messagesId:A,isDirty:S,isDisabled:D,isReadonly:R,isPristine:m,isValid:I,isValidating:p,hasDetails:_,reset:d,resetValidation:a,validate:s})),L=M(()=>e.error||e.disabled?void 0:e.focused?e.color:e.baseColor),T=M(()=>{if(e.iconColor)return e.iconColor===!0?L.value:e.iconColor});return J(()=>{var E,N,O,F;const w=!!(n.prepend||e.prependIcon),Q=!!(n.append||e.appendIcon);return b("div",{class:Z(["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--focused":e.focused,"v-input--glow":e.glow,"v-input--hide-spin-buttons":e.hideSpinButtons},t.value,r.value,y.value,v.value,e.class]),style:K([f.value,e.style])},[w&&b("div",{key:"prepend",class:"v-input__prepend"},[(E=n.prepend)==null?void 0:E.call(n,k.value),e.prependIcon&&B(C,{key:"prepend-icon",name:"prepend",color:T.value},null)]),n.default&&b("div",{class:"v-input__control"},[(N=n.default)==null?void 0:N.call(n,k.value)]),Q&&b("div",{key:"append",class:"v-input__append"},[e.appendIcon&&B(C,{key:"append-icon",name:"append",color:T.value},null),(O=n.append)==null?void 0:O.call(n,k.value)]),_.value&&b("div",{id:A.value,class:"v-input__details",role:"alert","aria-live":"polite"},[B(ke,{active:g.value,messages:z.value},{message:n.message}),(F=n.details)==null?void 0:F.call(n,k.value)])])}),{reset:d,resetValidation:a,validate:s,isValid:I,errorMessages:o}}});export{_e as V,De as m};
