import{C as g}from"./vue3-perfect-scrollbar-YfI4oNcs.js";import{av as k,a6 as x,ab as h,b as o,J as C,y as B,aW as I,ad as L,k as w,bC as u,f as l,m as A,n as e,o as s,e as a,bw as m,be as f,a1 as p,d as n,c as z,x as v,F as N,i as P,v as _,am as D}from"./index-DTc9oTBd.js";import{u as F}from"./useAbility-D9ku5qvk.js";import{V as R}from"./VMenu-BMMfjn__.js";import{V as S,a as T,d as E}from"./VList-BrqBRTGe.js";import{V as y}from"./VBadge-47tD7BT2.js";import"./VOverlay-DVMXWeF1.js";import"./dialog-transition-DtBUAAt7.js";import"./createSimpleFunctional-BKtNzXxU.js";import"./VDivider-zTJcoJFK.js";const J=x({start:Boolean,end:Boolean,...L(),...I()},"VListItemAction"),M=k()({name:"VListItemAction",props:J(),setup(r,i){let{slots:c}=i;return h(()=>o(r.tag,{class:B(["v-list-item-action",{"v-list-item-action--start":r.start,"v-list-item-action--end":r.end},r.class]),style:C(r.style)},c)),{}}}),U={class:"d-flex gap-2 align-center"},W={class:"text-h6 font-weight-medium"},j={class:"px-4 py-2"},et={__name:"UserProfile",setup(r){const i=w(),c=F(),t=u("userData");async function V(){u("accessToken").value=null,t.value.role.includes("supplier")?await i.replace("/login-supplier"):await i.replace("/login"),t.value=null,u("userAbilityRules").value=null,c.update([])}return(q,d)=>e(t)?(s(),l(y,{key:0,dot:"",bordered:"",location:"bottom right","offset-x":"1","offset-y":"2",color:"success"},{default:a(()=>[o(m,{size:"38",class:"cursor-pointer",color:e(t)&&e(t).avatar?void 0:"primary",variant:e(t)&&e(t).avatar?void 0:"tonal"},{default:a(()=>[e(t)&&e(t).avatar?(s(),l(f,{key:0,src:e(t).avatar},null,8,["src"])):(s(),l(p,{key:1,icon:"tabler-user"})),o(R,{activator:"parent",width:"240",location:"bottom end",offset:"12px"},{default:a(()=>[o(S,null,{default:a(()=>[o(T,null,{default:a(()=>[n("div",U,[o(M,null,{default:a(()=>[o(y,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success",bordered:""},{default:a(()=>[o(m,{color:e(t)&&e(t).avatar?void 0:"primary",variant:e(t)&&e(t).avatar?void 0:"tonal"},{default:a(()=>[e(t)&&e(t).avatar?(s(),l(f,{key:0,src:e(t).avatar},null,8,["src"])):(s(),l(p,{key:1,icon:"tabler-user"}))]),_:1},8,["color","variant"])]),_:1})]),_:1}),n("div",null,[n("h6",W,v(e(t).fullName||e(t).username),1),(s(!0),z(N,null,P(e(t).role,b=>(s(),l(E,{class:"text-capitalize text-disabled"},{default:a(()=>[_(v(b),1)]),_:2},1024))),256))])])]),_:1}),o(e(g),{options:{wheelPropagation:!1}},{default:a(()=>[n("div",j,[o(D,{block:"",size:"small",color:"error","append-icon":"tabler-logout",onClick:V},{default:a(()=>[...d[0]||(d[0]=[_(" خروج ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["color","variant"])]),_:1})):A("",!0)}};export{et as default};
