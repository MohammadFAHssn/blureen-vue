import{_ as tt}from"./AppTextField-1G1D-A8w.js";import{_ as Kt}from"./DialogCloseBtn-CQP9Lz-H.js";import{V as at}from"./VCard-Bgbw9lAB.js";import{V as lt}from"./VCardText-KxszJbh-.js";import{V as Qt}from"./VForm-b_antqDH.js";import{V as Xt}from"./VAlert-CmN2uye9.js";import{bT as Yt,r as E,w as _e,f as ye,o as J,e as C,b,d as x,x as Q,v as ne,bq as K,n as A,am as G,bU as Zt,av as X,a6 as O,aD as ee,al as oe,aq as Jt,aQ as ea,b7 as De,a7 as nt,b1 as he,aa as ta,Y as _,ar as me,Z as B,ab as ae,J as rt,y as te,bV as aa,aV as la,aW as na,bH as ra,at as sa,as as ia,bI as oa,ad as ua,a_ as da,bF as z,s as L,aA as Qe,au as Xe,c as Oe,bW as Ye,by as ca,m as fa,a3 as ma,bX as va,i as st,A as ga,an as Ze,ao as Je,a8 as Ae,U as re,bY as it,Q as le,bZ as ba,a9 as U,b5 as ya,b_ as ha,b$ as pa,bP as $e,aO as ot,c0 as pe,c1 as ve,c2 as xa,az as Pa,c3 as Sa,F as W,c4 as wa,bd as Re,a1 as xe,a2 as ut,c5 as Ne,bx as ge,c6 as be,c7 as dt,bL as ka,a as Va}from"./index-BWe5EvMo.js";import{V as _a}from"./VCheckbox-DhFEGqj8.js";import{V as Da}from"./VDialog-bXaX11JU.js";import{V as Ie}from"./VDivider-CdqQlTIu.js";import{V as He}from"./VSelect-W09uXHfe.js";import{u as Ia}from"./useApi-C0ILP3ma.js";import{c as Ta}from"./createUrl-CBlVGuLg.js";import{a as Ba,V as Ca}from"./VRow-DKeUQkO4.js";import{V as Me}from"./VCheckboxBtn-B0gmfFLF.js";import{m as Fa,V as Pe}from"./VTable-C87r9Zj4.js";import{m as Aa,u as $a}from"./filter-BsVi0mEE.js";import"./VTextField-BQUbPUzy.js";import"./VCounter-B6Q6ARAT.js";import"./VField-DAGDHH7N.js";import"./VOverlay-C-gzr661.js";import"./createSimpleFunctional-CBoyCVh9.js";import"./dialog-transition-DVVeuhYQ.js";import"./VList-bVjnOQ40.js";import"./VMenu-C1vOF8T6.js";import"./useLogout-CYcQlWMK.js";/* empty css              */function et(e,l,a){return Object.keys(e).filter(t=>Yt(t)&&t.endsWith(l)).reduce((t,n)=>(t[n.slice(0,-l.length)]=r=>e[n](r,a(r)),t),{})}const Na={class:"text-h4 text-center mb-2"},Ea={class:"text-body-1 text-center mb-6"},La={class:"d-flex gap-4 mb-6 flex-wrap flex-column flex-sm-row"},Oa={__name:"AddEditPermissionDialog",props:{isDialogVisible:{type:Boolean,required:!0},permissionName:{type:String,required:!1,default:""}},emits:["update:isDialogVisible","update:permissionName"],setup(e,{emit:l}){const a=e,t=l,n=E("");function r(){t("update:isDialogVisible",!1),n.value=""}function s(){t("update:isDialogVisible",!1),t("update:permissionName",n.value)}return _e(()=>a,()=>{n.value=a.permissionName}),(u,i)=>{const d=Kt,m=tt;return J(),ye(Da,{width:u.$vuetify.display.smAndDown?"auto":600,"model-value":a.isDialogVisible,"onUpdate:modelValue":r},{default:C(()=>[b(d,{onClick:r}),b(at,{class:"pa-2 pa-sm-10"},{default:C(()=>[b(lt,null,{default:C(()=>[x("h4",Na,Q(a.permissionName?"Edit":"Add")+" Permission ",1),x("p",Ea,Q(a.permissionName?"Edit":"Add")+" permission as per your requirements. ",1),b(Qt,null,{default:C(()=>[b(Xt,{type:"warning",title:"Warning!",variant:"tonal",class:"mb-6"},{text:C(()=>[ne(" By "+Q(a.permissionName?"editing":"adding")+" the permission name, you might break the system permissions functionality. ",1)]),_:1}),x("div",La,[b(m,{modelValue:A(n),"onUpdate:modelValue":i[0]||(i[0]=h=>K(n)?n.value=h:null),placeholder:"Enter Permission Name"},null,8,["modelValue"]),b(G,{onClick:s},{default:C(()=>[ne(Q(a.permissionName?"Update":"Add"),1)]),_:1})]),b(_a,{label:"Set as core permission"})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}};function Ra(e,l){const a=(e.page-1)*e.itemsPerPage+1,t=Math.min(e.page*e.itemsPerPage,l);return`Showing ${l===0?0:a} to ${t} of ${l} entries`}function Ha(){const e=E([]);Zt(()=>e.value=[]);function l(a,t){e.value[t]=a}return{refs:e,updateRef:l}}const Ma=O({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:z,default:"$first"},prevIcon:{type:z,default:"$prev"},nextIcon:{type:z,default:"$next"},lastIcon:{type:z,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...da(),...ua(),...oa(),...ia(),...sa(),...ra(),...na({tag:"nav"}),...la(),...aa({variant:"text"})},"VPagination"),Ee=X()({name:"VPagination",props:Ma(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,l){let{slots:a,emit:t}=l;const n=ee(e,"modelValue"),{t:r,n:s}=oe(),{isRtl:u}=Jt(),{themeClasses:i}=ea(e),{width:d}=De(),m=nt(-1);he(void 0,{scoped:!0});const{resizeRef:h}=ta(P=>{if(!P.length)return;const{target:f,contentRect:c}=P[0],V=f.querySelector(".v-pagination__list > *");if(!V)return;const T=c.width,$=V.offsetWidth+parseFloat(getComputedStyle(V).marginRight)*2;m.value=w(T,$)}),v=_(()=>parseInt(e.length,10)),S=_(()=>parseInt(e.start,10)),y=_(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):m.value>=0?m.value:w(d.value,58));function w(P,f){const c=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((P-f*c)/f).toFixed(2))))}const g=_(()=>{if(v.value<=0||isNaN(v.value)||v.value>Number.MAX_SAFE_INTEGER)return[];if(y.value<=0)return[];if(y.value===1)return[n.value];if(v.value<=y.value)return me(v.value,S.value);const P=y.value%2===0,f=P?y.value/2:Math.floor(y.value/2),c=P?f:f+1,V=v.value-f;if(c-n.value>=0)return[...me(Math.max(1,y.value-1),S.value),e.ellipsis,v.value];if(n.value-V>=(P?1:0)){const T=y.value-1,$=v.value-T+S.value;return[S.value,e.ellipsis,...me(T,$)]}else{const T=Math.max(1,y.value-2),$=T===1?n.value:n.value-Math.ceil(T/2)+S.value;return[S.value,e.ellipsis,...me(T,$),e.ellipsis,v.value]}});function D(P,f,c){P.preventDefault(),n.value=f,c&&t(c,f)}const{refs:o,updateRef:p}=Ha();he({VPaginationBtn:{color:B(()=>e.color),border:B(()=>e.border),density:B(()=>e.density),size:B(()=>e.size),variant:B(()=>e.variant),rounded:B(()=>e.rounded),elevation:B(()=>e.elevation)}});const I=_(()=>g.value.map((P,f)=>{const c=V=>p(V,f);if(typeof P=="string")return{isActive:!1,key:`ellipsis-${f}`,page:P,props:{ref:c,ellipsis:!0,icon:!0,disabled:!0}};{const V=P===n.value;return{isActive:V,key:P,page:s(P),props:{ref:c,ellipsis:!1,icon:!0,disabled:!!e.disabled||Number(e.length)<2,color:V?e.activeColor:e.color,"aria-current":V,"aria-label":r(V?e.currentPageAriaLabel:e.pageAriaLabel,P),onClick:T=>D(T,P)}}}})),k=_(()=>{const P=!!e.disabled||n.value<=S.value,f=!!e.disabled||n.value>=S.value+v.value-1;return{first:e.showFirstLastPage?{icon:u.value?e.lastIcon:e.firstIcon,onClick:c=>D(c,S.value,"first"),disabled:P,"aria-label":r(e.firstAriaLabel),"aria-disabled":P}:void 0,prev:{icon:u.value?e.nextIcon:e.prevIcon,onClick:c=>D(c,n.value-1,"prev"),disabled:P,"aria-label":r(e.previousAriaLabel),"aria-disabled":P},next:{icon:u.value?e.prevIcon:e.nextIcon,onClick:c=>D(c,n.value+1,"next"),disabled:f,"aria-label":r(e.nextAriaLabel),"aria-disabled":f},last:e.showFirstLastPage?{icon:u.value?e.firstIcon:e.lastIcon,onClick:c=>D(c,S.value+v.value-1,"last"),disabled:f,"aria-label":r(e.lastAriaLabel),"aria-disabled":f}:void 0}});function F(){var f;const P=n.value-S.value;(f=o.value[P])==null||f.$el.focus()}function R(P){P.key===Qe.left&&!e.disabled&&n.value>Number(e.start)?(n.value=n.value-1,Xe(F)):P.key===Qe.right&&!e.disabled&&n.value<S.value+v.value-1&&(n.value=n.value+1,Xe(F))}return ae(()=>b(e.tag,{ref:h,class:te(["v-pagination",i.value,e.class]),style:rt(e.style),role:"navigation","aria-label":r(e.ariaLabel),onKeydown:R,"data-test":"v-pagination-root"},{default:()=>[x("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&x("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[a.first?a.first(k.value.first):b(G,L({_as:"VPaginationBtn"},k.value.first),null)]),x("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[a.prev?a.prev(k.value.prev):b(G,L({_as:"VPaginationBtn"},k.value.prev),null)]),I.value.map((P,f)=>x("li",{key:P.key,class:te(["v-pagination__item",{"v-pagination__item--is-active":P.isActive}]),"data-test":"v-pagination-item"},[a.item?a.item(P):b(G,L({_as:"VPaginationBtn"},P.props),{default:()=>[P.page]})])),x("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[a.next?a.next(k.value.next):b(G,L({_as:"VPaginationBtn"},k.value.next),null)]),e.showFirstLastPage&&x("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[a.last?a.last(k.value.last):b(G,L({_as:"VPaginationBtn"},k.value.last),null)])])]})),{}}}),Ga={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 px-6 py-3"},Ua={class:"text-disabled mb-0"},za={__name:"TablePagination",props:{page:{type:Number,required:!0},itemsPerPage:{type:Number,required:!0},totalItems:{type:Number,required:!0}},emits:["update:page"],setup(e,{emit:l}){const a=l;function t(n){a("update:page",n)}return(n,r)=>(J(),Oe("div",null,[b(Ie),x("div",Ga,[x("p",Ua,Q(("paginationMeta"in n?n.paginationMeta:A(Ra))({page:e.page,itemsPerPage:e.itemsPerPage},e.totalItems)),1),b(Ee,{"model-value":e.page,"active-color":"primary",length:Math.ceil(e.totalItems/e.itemsPerPage),"total-visible":n.$vuetify.display.xs?1:Math.min(Math.ceil(e.totalItems/e.itemsPerPage),5),"onUpdate:modelValue":t},null,8,["model-value","length","total-visible"])])]))}},ja=Object.assign({name:"AppSelect",inheritAttrs:!1},{__name:"AppSelect",setup(e){const l=_(()=>{const n=Ye().id,r=ca();return n?`app-select-${n}`:r}),a=_(()=>Ye().label);return(t,n)=>(J(),Oe("div",{class:te(["app-select flex-grow-1",t.$attrs.class])},[A(a)?(J(),ye(ma,{key:0,for:A(l),class:"mb-1 text-body-2",style:{"line-height":"15px"},text:A(a)},null,8,["for","text"])):fa("",!0),b(He,Ze(Je({...t.$attrs,class:null,label:void 0,variant:"outlined",id:A(l),menuProps:{contentClass:["app-inner-list","app-select__content","v-select__content",t.$attrs.multiple!==void 0?"v-list-select-multiple":""]}})),va({_:2},[st(t.$slots,(r,s)=>({name:s,fn:C(u=>[ga(t.$slots,s,Ze(Je(u||{})))])}))]),1040)],2))}}),ct=O({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),ft=Symbol.for("vuetify:data-table-pagination");function mt(e){const l=ee(e,"page",void 0,t=>Number(t??1)),a=ee(e,"itemsPerPage",void 0,t=>Number(t??10));return{page:l,itemsPerPage:a}}function vt(e){const{page:l,itemsPerPage:a,itemsLength:t}=e,n=_(()=>a.value===-1?0:a.value*(l.value-1)),r=_(()=>a.value===-1?t.value:Math.min(t.value,n.value+a.value)),s=_(()=>a.value===-1||t.value===0?1:Math.ceil(t.value/a.value));_e([l,s],()=>{l.value>s.value&&(l.value=s.value)});function u(v){a.value=v,l.value=1}function i(){l.value=Ae(l.value+1,1,s.value)}function d(){l.value=Ae(l.value-1,1,s.value)}function m(v){l.value=Ae(v,1,s.value)}const h={page:l,itemsPerPage:a,startIndex:n,stopIndex:r,pageCount:s,itemsLength:t,nextPage:i,prevPage:d,setPage:m,setItemsPerPage:u};return le(ft,h),h}function Wa(){const e=re(ft);if(!e)throw new Error("Missing pagination!");return e}function qa(e){const l=it("usePaginatedItems"),{items:a,startIndex:t,stopIndex:n,itemsPerPage:r}=e,s=_(()=>r.value<=0?a.value:a.value.slice(t.value,n.value));return _e(s,u=>{l.emit("update:currentItems",u)},{immediate:!0}),{paginatedItems:s}}const Ge=O({prevIcon:{type:z,default:"$prev"},nextIcon:{type:z,default:"$next"},firstIcon:{type:z,default:"$first"},lastIcon:{type:z,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),Se=X()({name:"VDataTableFooter",props:Ge(),setup(e,l){let{slots:a}=l;const{t}=oe(),{page:n,pageCount:r,startIndex:s,stopIndex:u,itemsLength:i,itemsPerPage:d,setItemsPerPage:m}=Wa(),h=_(()=>e.itemsPerPageOptions.map(v=>typeof v=="number"?{value:v,title:v===-1?t("$vuetify.dataFooter.itemsPerPageAll"):String(v)}:{...v,title:isNaN(Number(v.title))?t(v.title):v.title}));return ae(()=>{var S;const v=Ee.filterProps(e);return x("div",{class:"v-data-table-footer"},[(S=a.prepend)==null?void 0:S.call(a),x("div",{class:"v-data-table-footer__items-per-page"},[x("span",{"aria-label":t(e.itemsPerPageText)},[t(e.itemsPerPageText)]),b(He,{items:h.value,modelValue:d.value,"onUpdate:modelValue":y=>m(Number(y)),density:"compact",variant:"outlined",hideDetails:!0},null)]),x("div",{class:"v-data-table-footer__info"},[x("div",null,[t(e.pageText,i.value?s.value+1:0,u.value,i.value)])]),x("div",{class:"v-data-table-footer__pagination"},[b(Ee,L({modelValue:n.value,"onUpdate:modelValue":y=>n.value=y,density:"comfortable",firstAriaLabel:e.firstPageLabel,lastAriaLabel:e.lastPageLabel,length:r.value,nextAriaLabel:e.nextPageLabel,previousAriaLabel:e.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:e.showCurrentPage?1:0,variant:"plain"},v),null)])])}),{}}}),we=ba({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,l)=>{let{slots:a}=l;const t=e.tag??"td",n=typeof e.fixed=="string"?e.fixed:e.fixed?"start":"none";return b(t,{class:te(["v-data-table__td",{"v-data-table-column--fixed":n==="start","v-data-table-column--fixed-end":n==="end","v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`]),style:{height:U(e.height),width:U(e.width),maxWidth:U(e.maxWidth),left:n==="start"?U(e.fixedOffset||null):void 0,right:n==="end"?U(e.fixedEndOffset||null):void 0}},{default:()=>{var r;return[(r=a.default)==null?void 0:r.call(a)]}})}),Ka=O({headers:Array},"DataTable-header"),gt=Symbol.for("vuetify:data-table-headers"),bt={title:"",sortable:!1},Qa={...bt,width:48};function Xa(){const l=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(a=>({element:a,priority:0}));return{enqueue:(a,t)=>{let n=!1;for(let r=0;r<l.length;r++)if(l[r].priority>t){l.splice(r,0,{element:a,priority:t}),n=!0;break}n||l.push({element:a,priority:t})},size:()=>l.length,count:()=>{let a=0;if(!l.length)return 0;const t=Math.floor(l[0].priority);for(let n=0;n<l.length;n++)Math.floor(l[n].priority)===t&&(a+=1);return a},dequeue:()=>l.shift()}}function Le(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)l.push(e);else for(const a of e.children)Le(a,l);return l}function yt(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const a of e)a.key&&l.add(a.key),a.children&&yt(a.children,l);return l}function Ya(e){if(e.key){if(e.key==="data-table-group")return bt;if(["data-table-expand","data-table-select"].includes(e.key))return Qa}}function Ue(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(l,...e.children.map(a=>Ue(a,l+1))):l}function Za(e){let l=!1;function a(r,s){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none";if(r)if(u!=="none"&&(r.fixed=u),r.fixed===!0&&(r.fixed="start"),r.fixed===s)if(r.children)if(s==="start")for(let i=r.children.length-1;i>=0;i--)a(r.children[i],s,s);else for(let i=0;i<r.children.length;i++)a(r.children[i],s,s);else!l&&s==="start"?r.lastFixed=!0:!l&&s==="end"?r.firstFixedEnd=!0:isNaN(Number(r.width))?pa(`Multiple fixed columns should have a static width (key: ${r.key})`):r.minWidth=Math.max(Number(r.width)||0,Number(r.minWidth)||0),l=!0;else if(r.children)if(s==="start")for(let i=r.children.length-1;i>=0;i--)a(r.children[i],s);else for(let i=0;i<r.children.length;i++)a(r.children[i],s);else l=!1}for(let r=e.length-1;r>=0;r--)a(e[r],"start");for(let r=0;r<e.length;r++)a(e[r],"end");let t=0;for(let r=0;r<e.length;r++)t=ht(e[r],t);let n=0;for(let r=e.length-1;r>=0;r--)n=pt(e[r],n)}function ht(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return l;if(e.children){e.fixedOffset=l;for(const a of e.children)l=ht(a,l)}else e.fixed&&e.fixed!=="end"&&(e.fixedOffset=l,l+=parseFloat(e.width||"0")||0);return l}function pt(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return l;if(e.children){e.fixedEndOffset=l;for(const a of e.children)l=pt(a,l)}else e.fixed==="end"&&(e.fixedEndOffset=l,l+=parseFloat(e.width||"0")||0);return l}function Ja(e,l){const a=[];let t=0;const n=Xa(e);for(;n.size()>0;){let s=n.count();const u=[];let i=1;for(;s>0;){const{element:d,priority:m}=n.dequeue(),h=l-t-Ue(d);if(u.push({...d,rowspan:h??1,colspan:d.children?Le(d).length:1}),d.children)for(const v of d.children){const S=m%1+i/Math.pow(10,t+2);n.enqueue(v,t+h+S)}i+=1,s-=1}t+=1,a.push(u)}return{columns:e.map(s=>Le(s)).flat(),headers:a}}function xt(e){const l=[];for(const a of e){const t={...Ya(a),...a},n=t.key??(typeof t.value=="string"?t.value:null),r=t.value??n??null,s={...t,key:n,value:r,sortable:t.sortable??(t.key!=null||!!t.sort),children:t.children?xt(t.children):void 0};l.push(s)}return l}function Pt(e,l){const a=E([]),t=E([]),n=E({}),r=E({}),s=E({});ya(()=>{var w,g,D;const d=(e.headers||Object.keys(e.items[0]??{}).map(o=>({key:o,title:ha(o)}))).slice(),m=yt(d);(w=l==null?void 0:l.groupBy)!=null&&w.value.length&&!m.has("data-table-group")&&d.unshift({key:"data-table-group",title:"Group"}),(g=l==null?void 0:l.showSelect)!=null&&g.value&&!m.has("data-table-select")&&d.unshift({key:"data-table-select"}),(D=l==null?void 0:l.showExpand)!=null&&D.value&&!m.has("data-table-expand")&&d.push({key:"data-table-expand"});const h=xt(d);Za(h);const v=Math.max(...h.map(o=>Ue(o)))+1,S=Ja(h,v);a.value=S.headers,t.value=S.columns;const y=S.headers.flat(1);for(const o of y)o.key&&(o.sortable&&(o.sort&&(n.value[o.key]=o.sort),o.sortRaw&&(r.value[o.key]=o.sortRaw)),o.filter&&(s.value[o.key]=o.filter))});const u={headers:a,columns:t,sortFunctions:n,sortRawFunctions:r,filterFunctions:s};return le(gt,u),u}function Te(){const e=re(gt);if(!e)throw new Error("Missing headers!");return e}const el={showSelectAll:!1,allSelected:()=>[],select:e=>{var t;let{items:l,value:a}=e;return new Set(a?[(t=l[0])==null?void 0:t.value]:[])},selectAll:e=>{let{selected:l}=e;return l}},St={showSelectAll:!0,allSelected:e=>{let{currentPage:l}=e;return l},select:e=>{let{items:l,value:a,selected:t}=e;for(const n of l)a?t.add(n.value):t.delete(n.value);return t},selectAll:e=>{let{value:l,currentPage:a,selected:t}=e;return St.select({items:a,value:l,selected:t})}},wt={showSelectAll:!0,allSelected:e=>{let{allItems:l}=e;return l},select:e=>{let{items:l,value:a,selected:t}=e;for(const n of l)a?t.add(n.value):t.delete(n.value);return t},selectAll:e=>{let{value:l,allItems:a,selected:t}=e;return wt.select({items:a,value:l,selected:t})}},tl=O({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:ot}},"DataTable-select"),kt=Symbol.for("vuetify:data-table-selection");function Vt(e,l){let{allItems:a,currentPage:t}=l;const n=ee(e,"modelValue",e.modelValue,o=>new Set($e(o).map(p=>{var I;return((I=a.value.find(k=>e.valueComparator(p,k.value)))==null?void 0:I.value)??p})),o=>[...o.values()]),r=_(()=>a.value.filter(o=>o.selectable)),s=_(()=>t.value.filter(o=>o.selectable)),u=_(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return el;case"all":return wt;case"page":default:return St}}),i=nt(null);function d(o){return $e(o).every(p=>n.value.has(p.value))}function m(o){return $e(o).some(p=>n.value.has(p.value))}function h(o,p){const I=u.value.select({items:o,value:p,selected:new Set(n.value)});n.value=I}function v(o,p,I){const k=[];if(p=p??t.value.findIndex(F=>F.value===o.value),e.selectStrategy!=="single"&&(I!=null&&I.shiftKey)&&i.value!==null){const[F,R]=[i.value,p].sort((P,f)=>P-f);k.push(...t.value.slice(F,R+1).filter(P=>P.selectable))}else k.push(o),i.value=p;h(k,!d([o]))}function S(o){const p=u.value.selectAll({value:o,allItems:r.value,currentPage:s.value,selected:new Set(n.value)});n.value=p}const y=_(()=>n.value.size>0),w=_(()=>{const o=u.value.allSelected({allItems:r.value,currentPage:s.value});return!!o.length&&d(o)}),g=B(()=>u.value.showSelectAll),D={toggleSelect:v,select:h,selectAll:S,isSelected:d,isSomeSelected:m,someSelected:y,allSelected:w,showSelectAll:g,lastSelectedIndex:i,selectStrategy:u};return le(kt,D),D}function Be(){const e=re(kt);if(!e)throw new Error("Missing selection!");return e}const al=O({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),_t=Symbol.for("vuetify:data-table-sort");function Dt(e){const l=ee(e,"sortBy"),a=B(()=>e.mustSort),t=B(()=>e.multiSort);return{sortBy:l,mustSort:a,multiSort:t}}function It(e){const{sortBy:l,mustSort:a,multiSort:t,page:n}=e,r=i=>{if(i.key==null)return;let d=l.value.map(h=>({...h}))??[];const m=d.find(h=>h.key===i.key);m?m.order==="desc"?a.value&&d.length===1?m.order="asc":d=d.filter(h=>h.key!==i.key):m.order="desc":t.value?d.push({key:i.key,order:"asc"}):d=[{key:i.key,order:"asc"}],l.value=d,n&&(n.value=1)};function s(i){return!!l.value.find(d=>d.key===i.key)}const u={sortBy:l,toggleSort:r,isSorted:s};return le(_t,u),u}function Tt(){const e=re(_t);if(!e)throw new Error("Missing sort!");return e}function ll(e,l,a,t){const n=oe();return{sortedItems:_(()=>{var s,u;return a.value.length?nl(l.value,a.value,n.current.value,{transform:t==null?void 0:t.transform,sortFunctions:{...e.customKeySort,...(s=t==null?void 0:t.sortFunctions)==null?void 0:s.value},sortRawFunctions:(u=t==null?void 0:t.sortRawFunctions)==null?void 0:u.value}):l.value})}}function nl(e,l,a,t){const n=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return e.map(s=>[s,t!=null&&t.transform?t.transform(s):s]).sort((s,u)=>{var i,d;for(let m=0;m<l.length;m++){let h=!1;const v=l[m].key,S=l[m].order??"asc";if(S===!1)continue;let y=pe(s[1],v),w=pe(u[1],v),g=s[0].raw,D=u[0].raw;if(S==="desc"&&([y,w]=[w,y],[g,D]=[D,g]),(i=t==null?void 0:t.sortRawFunctions)!=null&&i[v]){const o=t.sortRawFunctions[v](g,D);if(o==null)continue;if(h=!0,o)return o}if((d=t==null?void 0:t.sortFunctions)!=null&&d[v]){const o=t.sortFunctions[v](y,w);if(o==null)continue;if(h=!0,o)return o}if(!h&&(y instanceof Date&&w instanceof Date&&(y=y.getTime(),w=w.getTime()),[y,w]=[y,w].map(o=>o!=null?o.toString().toLocaleLowerCase():o),y!==w))return ve(y)&&ve(w)?0:ve(y)?-1:ve(w)?1:!isNaN(y)&&!isNaN(w)?Number(y)-Number(w):n.compare(y,w)}return 0}).map(s=>{let[u]=s;return u})}const Bt=O({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:z,default:"$sortAsc"},sortDescIcon:{type:z,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...Re(),...wa()},"VDataTableHeaders"),ke=X()({name:"VDataTableHeaders",props:Bt(),setup(e,l){let{slots:a}=l;const{t}=oe(),{toggleSort:n,sortBy:r,isSorted:s}=Tt(),{someSelected:u,allSelected:i,selectAll:d,showSelectAll:m}=Be(),{columns:h,headers:v}=Te(),{loaderClasses:S}=xa(e);function y(f,c){if(!(e.sticky||e.fixedHeader)&&!f.fixed)return;const V=typeof f.fixed=="string"?f.fixed:f.fixed?"start":"none";return{position:"sticky",left:V==="start"?U(f.fixedOffset):void 0,right:V==="end"?U(f.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${c})`:void 0}}function w(f,c){f.key==="Enter"&&!e.disableSort&&n(c)}function g(f){const c=r.value.find(V=>V.key===f.key);return c?c.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:D,backgroundColorStyles:o}=Pa(()=>e.color),{displayClasses:p,mobile:I}=De(e),k=_(()=>({headers:v.value,columns:h.value,toggleSort:n,isSorted:s,sortBy:r.value,someSelected:u.value,allSelected:i.value,selectAll:d,getSortIcon:g})),F=_(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},p.value,S.value]),R=f=>{let{column:c,x:V,y:T}=f;const $=c.key==="data-table-select"||c.key==="data-table-expand",Y=L(e.headerProps??{},c.headerProps??{});return b(we,L({tag:"th",align:c.align,class:[{"v-data-table__th--sortable":c.sortable&&!e.disableSort,"v-data-table__th--sorted":s(c),"v-data-table__th--fixed":c.fixed},...F.value],style:{width:U(c.width),minWidth:U(c.minWidth),maxWidth:U(c.maxWidth),...y(c,T)},colspan:c.colspan,rowspan:c.rowspan,fixed:c.fixed,nowrap:c.nowrap,lastFixed:c.lastFixed,firstFixedEnd:c.firstFixedEnd,noPadding:$,tabindex:c.sortable?0:void 0,onClick:c.sortable?()=>n(c):void 0,onKeydown:c.sortable?j=>w(j,c):void 0},Y),{default:()=>{var M;const j=`header.${c.key}`,N={column:c,selectAll:d,isSorted:s,toggleSort:n,sortBy:r.value,someSelected:u.value,allSelected:i.value,getSortIcon:g};return a[j]?a[j](N):c.key==="data-table-select"?((M=a["header.data-table-select"])==null?void 0:M.call(a,N))??(m.value&&b(Me,{modelValue:i.value,indeterminate:u.value&&!i.value,"onUpdate:modelValue":d},null)):x("div",{class:"v-data-table-header__content"},[x("span",null,[c.title]),c.sortable&&!e.disableSort&&b(xe,{key:"icon",class:"v-data-table-header__sort-icon",icon:g(c)},null),e.multiSort&&s(c)&&x("div",{key:"badge",class:te(["v-data-table-header__sort-badge",...D.value]),style:rt(o.value)},[r.value.findIndex(se=>se.key===c.key)+1])])}})},P=()=>{const f=_(()=>h.value.filter(V=>(V==null?void 0:V.sortable)&&!e.disableSort)),c=_(()=>{if(h.value.find(T=>T.key==="data-table-select")!=null)return i.value?"$checkboxOn":u.value?"$checkboxIndeterminate":"$checkboxOff"});return b(we,L({tag:"th",class:[...F.value],colspan:v.value.length+1},e.headerProps),{default:()=>[x("div",{class:"v-data-table-header__content"},[b(He,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:f.value,label:t("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>r.value=[],appendIcon:c.value,"onClick:append":()=>d(!i.value)},{chip:V=>{var T;return b(ut,{onClick:(T=V.item.raw)!=null&&T.sortable?()=>n(V.item.raw):void 0,onMousedown:$=>{$.preventDefault(),$.stopPropagation()}},{default:()=>[V.item.title,b(xe,{class:te(["v-data-table__td-sort-icon",s(V.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:g(V.item.raw),size:"small"},null)]})}})])]})};ae(()=>I.value?x("tr",null,[b(P,null,null)]):x(W,null,[a.headers?a.headers(k.value):v.value.map((f,c)=>x("tr",null,[f.map((V,T)=>b(R,{column:V,x:T,y:c},null))])),e.loading&&x("tr",{class:"v-data-table-progress"},[x("th",{colspan:h.value.length},[b(Sa,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),rl=O({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),Ct=Symbol.for("vuetify:data-table-group");function Ft(e){return{groupBy:ee(e,"groupBy")}}function At(e){const{disableSort:l,groupBy:a,sortBy:t}=e,n=E(new Set),r=_(()=>a.value.map(m=>({...m,order:m.order??!1})).concat(l!=null&&l.value?[]:t.value));function s(m){return n.value.has(m.id)}function u(m){const h=new Set(n.value);s(m)?h.delete(m.id):h.add(m.id),n.value=h}function i(m){function h(v){const S=[];for(const y of v.items)"type"in y&&y.type==="group"?S.push(...h(y)):S.push(y);return[...new Set(S)]}return h({items:m})}const d={sortByWithGroups:r,toggleGroup:u,opened:n,groupBy:a,extractRows:i,isGroupOpen:s};return le(Ct,d),d}function $t(){const e=re(Ct);if(!e)throw new Error("Missing group!");return e}function sl(e,l){if(!e.length)return[];const a=new Map;for(const t of e){const n=pe(t.raw,l);a.has(n)||a.set(n,[]),a.get(n).push(t)}return a}function Nt(e,l){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!l.length)return[];const n=sl(e,l[0]),r=[],s=l.slice(1);return n.forEach((u,i)=>{const d=l[0],m=`${t}_${d}_${i}`;r.push({depth:a,id:m,key:d,value:i,items:s.length?Nt(u,s,a+1,m):u,type:"group"})}),r}function Et(e,l){const a=[];for(const t of e)"type"in t&&t.type==="group"?(t.value!=null&&a.push(t),(l.has(t.id)||t.value==null)&&a.push(...Et(t.items,l))):a.push(t);return a}function Lt(e,l,a){return{flatItems:_(()=>{if(!l.value.length)return e.value;const n=Nt(e.value,l.value.map(r=>r.key));return Et(n,a.value)})}}const il=O({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),ol=X()({name:"VDataTableGroupHeaderRow",props:il(),setup(e,l){let{slots:a}=l;const{isGroupOpen:t,toggleGroup:n,extractRows:r}=$t(),{isSelected:s,isSomeSelected:u,select:i}=Be(),{columns:d}=Te(),m=_(()=>r([e.item]));return()=>x("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[d.value.map(h=>{var v,S;if(h.key==="data-table-group"){const y=t(e.item)?"$expand":"$next",w=()=>n(e.item);return((v=a["data-table-group"])==null?void 0:v.call(a,{item:e.item,count:m.value.length,props:{icon:y,onClick:w}}))??b(we,{class:"v-data-table-group-header-row__column"},{default:()=>[b(G,{size:"small",variant:"text",icon:y,onClick:w},null),x("span",null,[e.item.value]),x("span",null,[ne("("),m.value.length,ne(")")])]})}if(h.key==="data-table-select"){const y=s(m.value),w=u(m.value)&&!y,g=D=>i(m.value,D);return((S=a["data-table-select"])==null?void 0:S.call(a,{props:{modelValue:y,indeterminate:w,"onUpdate:modelValue":g}}))??x("td",null,[b(Me,{modelValue:y,indeterminate:w,"onUpdate:modelValue":g},null)])}return x("td",null,null)})])}}),ul=O({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Ot=Symbol.for("vuetify:datatable:expanded");function Rt(e){const l=B(()=>e.expandOnClick),a=ee(e,"expanded",e.expanded,u=>new Set(u),u=>[...u.values()]);function t(u,i){const d=new Set(a.value);i?d.add(u.value):d.delete(u.value),a.value=d}function n(u){return a.value.has(u.value)}function r(u){t(u,!n(u))}const s={expand:t,expanded:a,expandOnClick:l,isExpanded:n,toggleExpand:r};return le(Ot,s),s}function Ht(){const e=re(Ot);if(!e)throw new Error("foo");return e}const dl=O({index:Number,item:Object,cellProps:[Object,Function],onClick:Ne(),onContextmenu:Ne(),onDblclick:Ne(),...Re()},"VDataTableRow"),cl=X()({name:"VDataTableRow",props:dl(),setup(e,l){let{slots:a}=l;const{displayClasses:t,mobile:n}=De(e,"v-data-table__tr"),{isSelected:r,toggleSelect:s,someSelected:u,allSelected:i,selectAll:d}=Be(),{isExpanded:m,toggleExpand:h}=Ht(),{toggleSort:v,sortBy:S,isSorted:y}=Tt(),{columns:w}=Te();ae(()=>x("tr",{class:te(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},t.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&w.value.map((g,D)=>{const o=e.item,p=`item.${g.key}`,I=`header.${g.key}`,k={index:e.index,item:o.raw,internalItem:o,value:pe(o.columns,g.key),column:g,isSelected:r,toggleSelect:s,isExpanded:m,toggleExpand:h},F={column:g,selectAll:d,isSorted:y,toggleSort:v,sortBy:S.value,someSelected:u.value,allSelected:i.value,getSortIcon:()=>""},R=typeof e.cellProps=="function"?e.cellProps({index:k.index,item:k.item,internalItem:k.internalItem,value:k.value,column:g}):e.cellProps,P=typeof g.cellProps=="function"?g.cellProps({index:k.index,item:k.item,internalItem:k.internalItem,value:k.value}):g.cellProps;return b(we,L({align:g.align,class:{"v-data-table__td--expanded-row":g.key==="data-table-expand","v-data-table__td--select-row":g.key==="data-table-select"},fixed:g.fixed,fixedOffset:g.fixedOffset,fixedEndOffset:g.fixedEndOffset,lastFixed:g.lastFixed,firstFixedEnd:g.firstFixedEnd,maxWidth:n.value?void 0:g.maxWidth,noPadding:g.key==="data-table-select"||g.key==="data-table-expand",nowrap:g.nowrap,width:n.value?void 0:g.width},R,P),{default:()=>{var c,V,T,$;if(g.key==="data-table-select")return((c=a["item.data-table-select"])==null?void 0:c.call(a,{...k,props:{disabled:!o.selectable,modelValue:r([o]),onClick:ge(()=>s(o),["stop"])}}))??b(Me,{disabled:!o.selectable,modelValue:r([o]),onClick:ge(Y=>s(o,e.index,Y),["stop"])},null);if(g.key==="data-table-expand")return((V=a["item.data-table-expand"])==null?void 0:V.call(a,{...k,props:{icon:m(o)?"$collapse":"$expand",size:"small",variant:"text",onClick:ge(()=>h(o),["stop"])}}))??b(G,{icon:m(o)?"$collapse":"$expand",size:"small",variant:"text",onClick:ge(()=>h(o),["stop"])},null);if(a[p]&&!n.value)return a[p](k);const f=Q(k.value);return n.value?x(W,null,[x("div",{class:"v-data-table__td-title"},[((T=a[I])==null?void 0:T.call(a,F))??g.title]),x("div",{class:"v-data-table__td-value"},[(($=a[p])==null?void 0:$.call(a,k))??f])]):f}})})]))}}),Mt=O({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Re()},"VDataTableRows"),Ve=X()({name:"VDataTableRows",inheritAttrs:!1,props:Mt(),setup(e,l){let{attrs:a,slots:t}=l;const{columns:n}=Te(),{expandOnClick:r,toggleExpand:s,isExpanded:u}=Ht(),{isSelected:i,toggleSelect:d}=Be(),{toggleGroup:m,isGroupOpen:h}=$t(),{t:v}=oe(),{mobile:S}=De(e);return ae(()=>{var y,w;return e.loading&&(!e.items.length||t.loading)?x("tr",{class:"v-data-table-rows-loading",key:"loading"},[x("td",{colspan:n.value.length},[((y=t.loading)==null?void 0:y.call(t))??v(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?x("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[x("td",{colspan:n.value.length},[((w=t["no-data"])==null?void 0:w.call(t))??v(e.noDataText)])]):x(W,null,[e.items.map((g,D)=>{var I;if(g.type==="group"){const k={index:D,item:g,columns:n.value,isExpanded:u,toggleExpand:s,isSelected:i,toggleSelect:d,toggleGroup:m,isGroupOpen:h};return t["group-header"]?t["group-header"](k):b(ol,L({key:`group-header_${g.id}`,item:g},et(a,":group-header",()=>k)),t)}const o={index:D,item:g.raw,internalItem:g,columns:n.value,isExpanded:u,toggleExpand:s,isSelected:i,toggleSelect:d},p={...o,props:L({key:`item_${g.key??g.index}`,onClick:r.value?()=>{s(g)}:void 0,index:D,item:g,cellProps:e.cellProps,mobile:S.value},et(a,":row",()=>o),typeof e.rowProps=="function"?e.rowProps({item:o.item,index:o.index,internalItem:o.internalItem}):e.rowProps)};return x(W,{key:p.props.key},[t.item?t.item(p):b(cl,p.props,t),u(g)&&((I=t["expanded-row"])==null?void 0:I.call(t,o))])})])}),{}}}),fl=O({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function ml(e,l,a,t){const n=e.returnObject?l:be(l,e.itemValue),r=be(l,e.itemSelectable,!0),s=t.reduce((u,i)=>(i.key!=null&&(u[i.key]=be(l,i.value)),u),{});return{type:"item",key:e.returnObject?be(l,e.itemValue):n,index:a,value:n,selectable:r,columns:s,raw:l}}function vl(e,l,a){return l.map((t,n)=>ml(e,t,n,a))}function Gt(e,l){return{items:_(()=>vl(e,e.items,l.value))}}function Ut(e){let{page:l,itemsPerPage:a,sortBy:t,groupBy:n,search:r}=e;const s=it("VDataTable"),u=()=>({page:l.value,itemsPerPage:a.value,sortBy:t.value,groupBy:n.value,search:r.value});let i=null;_e(u,d=>{ot(i,d)||(i&&i.search!==d.search&&(l.value=1),s.emit("update:options",d),i=d)},{deep:!0,immediate:!0})}const zt=O({...Mt(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...ul(),...rl(),...Ka(),...fl(),...tl(),...al(),...Bt(),...Fa()},"DataTable"),gl=O({...ct(),...zt(),...Aa(),...Ge()},"VDataTable");X()({name:"VDataTable",props:gl(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,l){let{attrs:a,slots:t}=l;const{groupBy:n}=Ft(e),{sortBy:r,multiSort:s,mustSort:u}=Dt(e),{page:i,itemsPerPage:d}=mt(e),{disableSort:m}=dt(e),{columns:h,headers:v,sortFunctions:S,sortRawFunctions:y,filterFunctions:w}=Pt(e,{groupBy:n,showSelect:B(()=>e.showSelect),showExpand:B(()=>e.showExpand)}),{items:g}=Gt(e,h),D=B(()=>e.search),{filteredItems:o}=$a(e,g,D,{transform:q=>q.columns,customKeyFilter:w}),{toggleSort:p}=It({sortBy:r,multiSort:s,mustSort:u,page:i}),{sortByWithGroups:I,opened:k,extractRows:F,isGroupOpen:R,toggleGroup:P}=At({groupBy:n,sortBy:r,disableSort:m}),{sortedItems:f}=ll(e,o,I,{transform:q=>({...q.raw,...q.columns}),sortFunctions:S,sortRawFunctions:y}),{flatItems:c}=Lt(f,n,k),V=_(()=>c.value.length),{startIndex:T,stopIndex:$,pageCount:Y,setItemsPerPage:j}=vt({page:i,itemsPerPage:d,itemsLength:V}),{paginatedItems:N}=qa({items:c,startIndex:T,stopIndex:$,itemsPerPage:d}),M=_(()=>F(N.value)),{isSelected:se,select:Ce,selectAll:Fe,toggleSelect:Z,someSelected:ue,allSelected:de}=Vt(e,{allItems:g,currentPage:M}),{isExpanded:ce,toggleExpand:fe}=Rt(e);Ut({page:i,itemsPerPage:d,sortBy:r,groupBy:n,search:D}),he({VDataTableRows:{hideNoData:B(()=>e.hideNoData),noDataText:B(()=>e.noDataText),loading:B(()=>e.loading),loadingText:B(()=>e.loadingText)}});const H=_(()=>({page:i.value,itemsPerPage:d.value,sortBy:r.value,pageCount:Y.value,toggleSort:p,setItemsPerPage:j,someSelected:ue.value,allSelected:de.value,isSelected:se,select:Ce,selectAll:Fe,toggleSelect:Z,isExpanded:ce,toggleExpand:fe,isGroupOpen:R,toggleGroup:P,items:M.value.map(q=>q.raw),internalItems:M.value,groupedItems:N.value,columns:h.value,headers:v.value}));return ae(()=>{const q=Se.filterProps(e),jt=ke.filterProps(e),Wt=Ve.filterProps(e),qt=Pe.filterProps(e);return b(Pe,L({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},qt,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var ie;return(ie=t.top)==null?void 0:ie.call(t,H.value)},default:()=>{var ie,ze,je,We,qe,Ke;return t.default?t.default(H.value):x(W,null,[(ie=t.colgroup)==null?void 0:ie.call(t,H.value),!e.hideDefaultHeader&&x("thead",{key:"thead"},[b(ke,jt,t)]),(ze=t.thead)==null?void 0:ze.call(t,H.value),!e.hideDefaultBody&&x("tbody",null,[(je=t["body.prepend"])==null?void 0:je.call(t,H.value),t.body?t.body(H.value):b(Ve,L(a,Wt,{items:N.value}),t),(We=t["body.append"])==null?void 0:We.call(t,H.value)]),(qe=t.tbody)==null?void 0:qe.call(t,H.value),(Ke=t.tfoot)==null?void 0:Ke.call(t,H.value)])},bottom:()=>t.bottom?t.bottom(H.value):!e.hideDefaultFooter&&x(W,null,[b(Ie,null,null),b(Se,q,{prepend:t["footer.prepend"]})])})}),{}}});const bl=O({itemsLength:{type:[Number,String],required:!0},...ct(),...zt(),...Ge()},"VDataTableServer"),yl=X()({name:"VDataTableServer",props:bl(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,l){let{attrs:a,slots:t}=l;const{groupBy:n}=Ft(e),{sortBy:r,multiSort:s,mustSort:u}=Dt(e),{page:i,itemsPerPage:d}=mt(e),{disableSort:m}=dt(e),h=_(()=>parseInt(e.itemsLength,10)),{columns:v,headers:S}=Pt(e,{groupBy:n,showSelect:B(()=>e.showSelect),showExpand:B(()=>e.showExpand)}),{items:y}=Gt(e,v),{toggleSort:w}=It({sortBy:r,multiSort:s,mustSort:u,page:i}),{opened:g,isGroupOpen:D,toggleGroup:o,extractRows:p}=At({groupBy:n,sortBy:r,disableSort:m}),{pageCount:I,setItemsPerPage:k}=vt({page:i,itemsPerPage:d,itemsLength:h}),{flatItems:F}=Lt(y,n,g),{isSelected:R,select:P,selectAll:f,toggleSelect:c,someSelected:V,allSelected:T}=Vt(e,{allItems:y,currentPage:y}),{isExpanded:$,toggleExpand:Y}=Rt(e),j=_(()=>p(y.value));Ut({page:i,itemsPerPage:d,sortBy:r,groupBy:n,search:B(()=>e.search)}),le("v-data-table",{toggleSort:w,sortBy:r}),he({VDataTableRows:{hideNoData:B(()=>e.hideNoData),noDataText:B(()=>e.noDataText),loading:B(()=>e.loading),loadingText:B(()=>e.loadingText)}});const N=_(()=>({page:i.value,itemsPerPage:d.value,sortBy:r.value,pageCount:I.value,toggleSort:w,setItemsPerPage:k,someSelected:V.value,allSelected:T.value,isSelected:R,select:P,selectAll:f,toggleSelect:c,isExpanded:$,toggleExpand:Y,isGroupOpen:D,toggleGroup:o,items:j.value.map(M=>M.raw),internalItems:j.value,groupedItems:F.value,columns:v.value,headers:S.value}));ae(()=>{const M=Se.filterProps(e),se=ke.filterProps(e),Ce=Ve.filterProps(e),Fe=Pe.filterProps(e);return b(Pe,L({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},Fe,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var Z;return(Z=t.top)==null?void 0:Z.call(t,N.value)},default:()=>{var Z,ue,de,ce,fe,H;return t.default?t.default(N.value):x(W,null,[(Z=t.colgroup)==null?void 0:Z.call(t,N.value),!e.hideDefaultHeader&&x("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[b(ke,se,t)]),(ue=t.thead)==null?void 0:ue.call(t,N.value),!e.hideDefaultBody&&x("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(de=t["body.prepend"])==null?void 0:de.call(t,N.value),t.body?t.body(N.value):b(Ve,L(a,Ce,{items:F.value}),t),(ce=t["body.append"])==null?void 0:ce.call(t,N.value)]),(fe=t.tbody)==null?void 0:fe.call(t,N.value),(H=t.tfoot)==null?void 0:H.call(t,N.value)])},bottom:()=>t.bottom?t.bottom(N.value):!e.hideDefaultFooter&&x(W,null,[b(Ie,null,null),b(Se,M,{prepend:t["footer.prepend"]})])})})}}),hl={class:"d-flex gap-2 align-center"},pl={class:"d-flex align-center gap-4 flex-wrap"},xl={class:"text-high-emphasis text-body-1"},Pl={class:"d-flex gap-4"},Ql={__name:"index",async setup(e){let l,a;const t=[{title:"Name",key:"name"},{title:"Assigned To",key:"assignedTo",sortable:!1},{title:"Created Date",key:"createdDate",sortable:!1},{title:"Actions",key:"actions",sortable:!1}],n=E(""),r=E(10),s=E(1),u=E(),i=E();function d(o){var p,I;u.value=(p=o.sortBy[0])==null?void 0:p.key,i.value=(I=o.sortBy[0])==null?void 0:I.order}const m=E(!1),h=E(!1),v=E(""),S={support:{color:"info",text:"Support"},users:{color:"success",text:"Users"},manager:{color:"warning",text:"Manager"},administrator:{color:"primary",text:"Administrator"},"restricted-user":{color:"error",text:"Restricted User"}},{data:y}=([l,a]=ka(()=>Ia(Ta("/apps/permissions",{query:{q:n,itemsPerPage:r,page:s,sortBy:u,orderBy:i}}))),l=await l,a(),l),w=_(()=>y.value.permissions),g=_(()=>y.value.totalPermissions);function D(o){m.value=!0,v.value=o}return(o,p)=>{const I=ja,k=tt,F=za,R=Va("IconBtn"),P=Oa;return J(),ye(Ca,null,{default:C(()=>[b(Ba,{cols:"12"},{default:C(()=>[b(at,null,{default:C(()=>[b(lt,{class:"d-flex align-center justify-space-between flex-wrap gap-4"},{default:C(()=>[x("div",hl,[p[9]||(p[9]=x("p",{class:"text-body-1 mb-0"}," Show ",-1)),b(I,{"model-value":A(r),items:[{value:5,title:"5"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"5.5rem"},"onUpdate:modelValue":p[0]||(p[0]=f=>r.value=parseInt(f,10))},null,8,["model-value"])]),x("div",pl,[b(k,{modelValue:A(n),"onUpdate:modelValue":p[1]||(p[1]=f=>K(n)?n.value=f:null),placeholder:"Search Permission",style:{"inline-size":"15.625rem"}},null,8,["modelValue"]),b(G,{density:"default","prepend-icon":"tabler-plus",onClick:p[2]||(p[2]=f=>h.value=!0)},{default:C(()=>[...p[10]||(p[10]=[ne(" Add Permission ",-1)])]),_:1})])]),_:1}),b(Ie),b(yl,{"items-per-page":A(r),"onUpdate:itemsPerPage":p[4]||(p[4]=f=>K(r)?r.value=f:null),page:A(s),"onUpdate:page":p[5]||(p[5]=f=>K(s)?s.value=f:null),"items-length":A(g),"items-per-page-options":[{value:5,title:"5"},{value:10,title:"10"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}],headers:t,items:A(w),"item-value":"name",class:"text-no-wrap","onUpdate:options":d},{"item.name":C(({item:f})=>[x("div",xl,Q(f.name),1)]),"item.assignedTo":C(({item:f})=>[x("div",Pl,[(J(!0),Oe(W,null,st(f.assignedTo,c=>(J(),ye(ut,{key:c,label:"",size:"small",color:S[c].color,class:"font-weight-medium"},{default:C(()=>[ne(Q(S[c].text),1)]),_:2},1032,["color"]))),128))])]),bottom:C(()=>[b(F,{page:A(s),"onUpdate:page":p[3]||(p[3]=f=>K(s)?s.value=f:null),"items-per-page":A(r),"total-items":A(g)},null,8,["page","items-per-page","total-items"])]),"item.actions":C(({item:f})=>[b(G,{icon:"",size:"small",color:"medium-emphasis",variant:"text",onClick:c=>D(f.name)},{default:C(()=>[b(xe,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"]),b(R,null,{default:C(()=>[b(xe,{icon:"tabler-dots-vertical",size:"22"})]),_:1})]),_:1},8,["items-per-page","page","items-length","items"])]),_:1}),b(P,{"is-dialog-visible":A(m),"onUpdate:isDialogVisible":p[6]||(p[6]=f=>K(m)?m.value=f:null),"permission-name":A(v),"onUpdate:permissionName":p[7]||(p[7]=f=>K(v)?v.value=f:null)},null,8,["is-dialog-visible","permission-name"]),b(P,{"is-dialog-visible":A(h),"onUpdate:isDialogVisible":p[8]||(p[8]=f=>K(h)?h.value=f:null)},null,8,["is-dialog-visible"])]),_:1})]),_:1})}}};export{Ql as default};
