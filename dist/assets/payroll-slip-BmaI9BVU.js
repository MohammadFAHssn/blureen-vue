import{g as K}from"./helpers-CcX6MmOA.js";import{M as j,Y as _,f as h,o as u,e as a,b as t,m as C,v as p,bB as T,c as d,F as $,i as q,n,x as m,d as l,J as U,a1 as f,y as w,a2 as J,bJ as H,r as Y,a as Q,aH as W,bv as X,am as Z}from"./index-BjDbercT.js";import{a as M,b as S,d as O,V as I}from"./VCard-DLNXAE8v.js";import{V as A}from"./VDivider-CY0uTSDO.js";import{V as b}from"./VCardText-DJrV3pWu.js";import{V as E,a as V,b as F}from"./VList-CrR_CGaz.js";import{V as D}from"./VRow-LLRdI7I1.js";import{V as N}from"./VCol-qg2p72EP.js";import{u as ee}from"./useApi-DXH5Gn3K.js";import{c as te}from"./createUrl-z7xFz3yT.js";import{a as ae}from"./axios-_S5Q2dDc.js";import{V as le}from"./VSnackbar-CHSK6Bj4.js";import"./createSimpleFunctional-BP7hpzsR.js";/* empty css              */import"./useLogout-kPLI9xuP.js";import"./index-CvOPxmL5.js";import"./VOverlay-BlrRlgQ7.js";function x(v){const e=Math.abs(v).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return v<0?`${e}-`:e}const ne={class:"d-flex gap-x-4"},oe={style:{"min-inline-size":"70px"},class:"d-flex justify-end"},re={class:"text-sm"},se={class:"d-flex gap-x-4"},ue={style:{"min-inline-size":"70px"},class:"d-flex justify-end"},me={class:"text-sm"},ie={class:"d-flex gap-x-4"},ce={class:"text-body-1"},ye={class:"d-flex gap-x-4"},pe={class:"text-body-1"},de={class:"text-h6 amount"},be={key:0,class:"percent-change"},ge={class:"text-sm"},he={__name:"Allowances",props:{getPayrollItemByLabel:{type:Function,required:!0}},setup(v){const e=v,P=_(()=>[{label:"ماندگاری در شرکت",amount:e.getPayrollItemByLabel("ماندگاری در شركت").amount,percentChange:e.getPayrollItemByLabel("ماندگاری در شركت").percentChange},{label:"پاداش فنی",amount:e.getPayrollItemByLabel("پاداش فنی").amount,percentChange:e.getPayrollItemByLabel("پاداش فنی").percentChange},{label:"فوق‌العاده مدیریت",amount:e.getPayrollItemByLabel("فوق العاده مدیریت").amount,percentChange:e.getPayrollItemByLabel("فوق العاده مدیریت").percentChange}].filter(o=>o.amount||o.percentChange)),i=_(()=>[{label:"کمک هزینه درمان",amount:e.getPayrollItemByLabel("کمک هزینه درمان").amount,percentChange:e.getPayrollItemByLabel("کمک هزینه درمان").percentChange},{label:"کمک هزینه سفر",amount:e.getPayrollItemByLabel("کمک هزینه سفر").amount,percentChange:e.getPayrollItemByLabel("کمک هزینه سفر").percentChange},{label:"کمک هزینه فرهنگی، ورزشی، سرگرمی",amount:e.getPayrollItemByLabel("فرهنگی ورزشی").amount,percentChange:e.getPayrollItemByLabel("فرهنگی ورزشی").percentChange},{label:"کمک هزینه حمایت از خانواده",amount:e.getPayrollItemByLabel("حمایت از خانواده").amount,percentChange:e.getPayrollItemByLabel("حمایت از خانواده").percentChange}]),s=_(()=>({amount:e.getPayrollItemByLabel("كسر فوق العاده").amount,reason:e.getPayrollItemByLabel("علت کسر پاداش").amount})),r=_(()=>({amount:e.getPayrollItemByLabel("جمع فوق العاده").amount,percentChange:e.getPayrollItemByLabel("جمع فوق العاده").percentChange}));return(o,B)=>(u(),h(I,{class:"allowances-card"},{default:a(()=>[t(M,{class:"pa-3"},{prepend:a(()=>[t(T,{color:"light-green",variant:"tonal",rounded:"",icon:"tabler-medal"})]),default:a(()=>[t(S,null,{default:a(()=>[...B[0]||(B[0]=[p("فوق‌العاده جذب",-1)])]),_:1}),t(O,null,{default:a(()=>[...B[1]||(B[1]=[p(" ریال ",-1)])]),_:1})]),_:1}),t(A),t(b,{class:"pa-3 pt-0"},{default:a(()=>[t(E,null,{default:a(()=>[(u(!0),d($,null,q(n(P),y=>(u(),h(V,{key:y.label,class:"pa-2",variant:`${isFinite(y.percentChange)?"text":"outlined"}`,"base-color":`${isFinite(y.percentChange)?"":"light-green"}`},{append:a(()=>[l("div",ne,[l("div",{class:"text-body-1",style:U(`color: ${isFinite(y.percentChange)?"":"light-green"}`)},m(("formatNumber"in o?o.formatNumber:n(x))(y.amount)),5),l("div",oe,[isFinite(y.percentChange)?y.percentChange?(u(),d("div",{key:1,class:w(`d-flex align-center ${y.percentChange>0?"text-light-green":"text-error"}`)},[l("div",re,m(Math.abs(y.percentChange))+"% ",1),t(f,{icon:y.percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])],2)):C("",!0):(u(),h(f,{key:0,icon:"tabler-plus",size:"20",class:"mr-1"}))])])]),default:a(()=>[t(F,{class:"text-wrap"},{default:a(()=>[p(m(y.label),1)]),_:2},1024)]),_:2},1032,["variant","base-color"]))),128))]),_:1})]),_:1}),t(b,null,{default:a(()=>[t(I,{variant:"outlined",color:"light-green-lighten-3"},{default:a(()=>[t(M,{class:"pa-3"},{default:a(()=>[t(S,{class:"v-list-item-title font-weight-bold"},{default:a(()=>[...B[2]||(B[2]=[p(" رفاهیات ",-1)])]),_:1})]),_:1}),t(b,{class:"pa-3 pt-0"},{default:a(()=>[t(E,null,{default:a(()=>[(u(!0),d($,null,q(n(i),y=>(u(),h(V,{key:y.label,class:"pa-2",variant:`${isFinite(y.percentChange)?"text":"outlined"}`,"base-color":`${isFinite(y.percentChange)?"":"light-green"}`},{append:a(()=>[l("div",se,[l("div",{class:"text-body-1",style:U(`color: ${isFinite(y.percentChange)?"":"light-green"}`)},m(("formatNumber"in o?o.formatNumber:n(x))(y.amount)),5),l("div",ue,[isFinite(y.percentChange)?y.percentChange?(u(),d("div",{key:1,class:w(`d-flex align-center ${y.percentChange>0?"text-light-green":"text-error"}`)},[l("div",me,m(Math.abs(y.percentChange))+"% ",1),t(f,{icon:y.percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])],2)):C("",!0):(u(),h(f,{key:0,icon:"tabler-plus",size:"20",class:"mr-1"}))])])]),default:a(()=>[t(F,{class:"text-wrap"},{default:a(()=>[p(m(y.label),1)]),_:2},1024)]),_:2},1032,["variant","base-color"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),n(s).amount?(u(),h(b,{key:0},{default:a(()=>[t(I,{variant:"outlined",color:"error-lighten-2"},{default:a(()=>[t(M,{class:"pa-3"},{default:a(()=>[t(S,{class:"v-list-item-title font-weight-bold"},{default:a(()=>[...B[3]||(B[3]=[p(" کسورات فوق‌العاده جذب ",-1)])]),_:1})]),_:1}),t(b,{class:"pa-3 pt-0"},{default:a(()=>[t(E,null,{default:a(()=>[t(V,{class:"pa-2"},{append:a(()=>[l("div",ie,[l("div",ce,m(("formatNumber"in o?o.formatNumber:n(x))(n(s).amount)),1)])]),default:a(()=>[t(F,{class:"text-wrap"},{default:a(()=>[...B[4]||(B[4]=[p(" مقدار ",-1)])]),_:1})]),_:1}),t(V,{class:"pa-2"},{append:a(()=>[l("div",ye,[l("div",pe,m(n(s).reason),1)])]),default:a(()=>[t(F,{class:"text-wrap"},{default:a(()=>[...B[5]||(B[5]=[p(" علت ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):C("",!0),t(b,null,{default:a(()=>[t(I,{variant:"tonal",color:"light-green"},{default:a(()=>[t(b,{class:"pa-3 sum-of-amounts-card"},{default:a(()=>[B[6]||(B[6]=l("div",{class:"label v-card-title pa-0 text-wrap"}," جمع فوق‌العاده جذب ",-1)),l("h6",de,m(("formatNumber"in o?o.formatNumber:n(x))(n(r).amount)),1),n(r).percentChange?(u(),d("div",be,[l("div",{class:w(`d-flex align-center ${n(r).percentChange>0?"text-light-green":"text-error"}`)},[l("div",ge,m(Math.abs(n(r).percentChange))+"% ",1),t(f,{icon:n(r).percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])],2)])):C("",!0)]),_:1})]),_:1})]),_:1})]),_:1}))}},fe=j(he,[["__scopeId","data-v-2a8479c0"]]),_e={class:"d-flex gap-x-4"},ve={class:"text-body-1"},Pe={__name:"Attendances",props:{getPayrollItemByLabel:{type:Function,required:!0}},setup(v){const e=v,P=_(()=>[{label:"کارکرد عادی",minutes:e.getPayrollItemByLabel("دقیقه كاركرد عادی").amount},{label:"بیماری",minutes:e.getPayrollItemByLabel("دقیقه بيماری").amount},{label:"غیبت",minutes:e.getPayrollItemByLabel("دقیقه غيبت").amount},{label:"مرخصی بدون حقوق",minutes:e.getPayrollItemByLabel("دقیقه مرخصی بدون حقوق").amount},{label:"اضافه‌کاری",minutes:e.getPayrollItemByLabel("دقیقه اضافه كاری عادی").amount},{label:"جمعه‌کاری",minutes:e.getPayrollItemByLabel("دقیقه جمعه كاری").amount}].filter(i=>i.minutes));return(i,s)=>(u(),h(I,{class:"attendances-card"},{default:a(()=>[t(M,{class:"pa-3"},{prepend:a(()=>[t(T,{color:"secondary",variant:"tonal",rounded:"",icon:"tabler-clock"})]),default:a(()=>[t(S,null,{default:a(()=>[...s[0]||(s[0]=[p("کارکرد و غیبت",-1)])]),_:1}),t(O,null,{default:a(()=>[...s[1]||(s[1]=[p(" دقیقه ",-1)])]),_:1})]),_:1}),t(A),t(b,{class:"pa-3 pt-0"},{default:a(()=>[t(E,null,{default:a(()=>[(u(!0),d($,null,q(n(P),r=>(u(),h(V,{key:r.label,class:"pa-2"},{append:a(()=>[l("div",_e,[l("div",ve,m(("formatNumber"in i?i.formatNumber:n(x))(r.minutes)),1)])]),default:a(()=>[t(F,{class:"text-wrap"},{default:a(()=>[p(m(r.label),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}))}},Be=j(Pe,[["__scopeId","data-v-08382fd8"]]),Le={key:0},Ce={key:1},Ie={class:"d-flex gap-x-4"},xe={style:{"min-inline-size":"70px"},class:"d-flex justify-end"},$e={class:"text-sm"},ke={class:"text-h6 text-white amount"},Ne={key:0,class:"percent-change"},Ve={class:"text-sm"},Fe={__name:"Bonuses",props:{getPayrollItemByLabel:{type:Function,required:!0}},setup(v){const e=v,P=_(()=>[{label:"پاداش شناور فردی (ارزیابی)",period:e.getPayrollItemByLabel("دوره ارزیابی").amount,group:e.getPayrollItemByLabel("گروه ارزیابی").amount,amount:e.getPayrollItemByLabel("پاداش شناور فردی(ارزيابی)").amount,percentChange:e.getPayrollItemByLabel("پاداش شناور فردی(ارزيابی)").percentChange},{label:"پاداش شناور گروهی (بهره‌وری)",amount:e.getPayrollItemByLabel("پاداش شناور گروهی(بهره وری)").amount,percentChange:e.getPayrollItemByLabel("پاداش شناور گروهی(بهره وری)").percentChange},{label:"پاداش شناور مدیر واحد",amount:e.getPayrollItemByLabel("پاداش شناور مدير واحد").amount,percentChange:e.getPayrollItemByLabel("پاداش شناور مدير واحد").percentChange},{label:"فوق‌العاده بهره‌وری",amount:e.getPayrollItemByLabel("فوق العاده بهره وری").amount,percentChange:e.getPayrollItemByLabel("فوق العاده بهره وری").percentChange}].filter(s=>s.amount||s.percentChange)),i=_(()=>({amount:e.getPayrollItemByLabel("جمع پاداش").amount,percentChange:e.getPayrollItemByLabel("جمع پاداش").percentChange}));return(s,r)=>(u(),d($,null,[t(I,{class:"bonuses-card mb-3"},{default:a(()=>[t(M,{class:"pa-3"},{prepend:a(()=>[t(T,{color:"primary",variant:"tonal",rounded:"",icon:"tabler-gift"})]),default:a(()=>[t(S,null,{default:a(()=>[...r[0]||(r[0]=[p("پاداش‌ها",-1)])]),_:1}),t(O,null,{default:a(()=>[...r[1]||(r[1]=[p(" ریال ",-1)])]),_:1})]),_:1}),t(A),t(b,{class:"pa-3 pt-0"},{default:a(()=>[t(E,null,{default:a(()=>[(u(!0),d($,null,q(n(P),o=>(u(),h(V,{key:o.label,class:"pa-2",variant:`${isFinite(o.percentChange)?"text":"outlined"}`,"base-color":`${isFinite(o.percentChange)?"":"primary"}`},{append:a(()=>[l("div",Ie,[l("div",{class:"text-body-1",style:U(`color: ${isFinite(o.percentChange)?"":"primary"}`)},m(("formatNumber"in s?s.formatNumber:n(x))(o.amount)),5),l("div",xe,[isFinite(o.percentChange)?o.percentChange?(u(),d("div",{key:1,class:w(`d-flex align-center ${o.percentChange>0?"text-success":"text-error"}`)},[l("div",$e,m(Math.abs(o.percentChange))+"% ",1),t(f,{icon:o.percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])],2)):C("",!0):(u(),h(f,{key:0,icon:"tabler-plus",size:"20",class:"mr-1"}))])])]),default:a(()=>[t(F,{class:"text-wrap"},{default:a(()=>[p(m(o.label)+" ",1),o.period?(u(),d("div",Le,[r[2]||(r[2]=p(" دوره ",-1)),t(J,{variant:"outlined",color:"primary",label:!1},{default:a(()=>[p(m(o.period),1)]),_:2},1024)])):C("",!0),o.group?(u(),d("div",Ce,[r[3]||(r[3]=p(" گروه ",-1)),t(J,{variant:"flat",color:"primary",label:!1},{default:a(()=>[p(m(o.group),1)]),_:2},1024)])):C("",!0)]),_:2},1024)]),_:2},1032,["variant","base-color"]))),128))]),_:1})]),_:1})]),_:1}),t(I,{color:"primary"},{default:a(()=>[t(b,{class:"pa-3 sum-of-amounts-card"},{default:a(()=>[r[4]||(r[4]=l("div",{class:"label v-card-title pa-0 text-white text-wrap"}," جمع پاداش‌ها (پرداختی دوم) ",-1)),l("h6",ke,m(("formatNumber"in s?s.formatNumber:n(x))(n(i).amount)),1),n(i).percentChange?(u(),d("div",Ne,[t(J,{variant:"flat",color:`${n(i).percentChange>0?"success":"error"}`,class:"d-flex align-center"},{default:a(()=>[l("div",Ve,m(Math.abs(n(i).percentChange))+"% ",1),t(f,{icon:n(i).percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])]),_:1},8,["color"])])):C("",!0)]),_:1})]),_:1})],64))}},we=j(Fe,[["__scopeId","data-v-6d54cee5"]]),ze={class:"d-flex gap-x-4"},Me={class:"text-body-1"},Se={class:"text-h6 amount"},Ee={key:0,class:"percent-change"},qe={class:"text-sm"},Ae={__name:"Deductions",props:{getPayrollItemByLabel:{type:Function,required:!0}},setup(v){const e=v,P=_(()=>[{label:"بیمه سهم کارمند",amount:e.getPayrollItemByLabel("بيمه سهم كارمند").amount},{label:"مالیات ماه",amount:e.getPayrollItemByLabel("ماليات ماه").amount},{label:"بیمه تکمیلی",amount:e.getPayrollItemByLabel("بيمه تكميلی").amount},{label:"کسر جاری کارکنان",amount:e.getPayrollItemByLabel("كسر جاری كاركنان").amount},{label:"وام ضروری",amount:e.getPayrollItemByLabel("وام ضروری").amount},{label:"وام ضروری 3",amount:e.getPayrollItemByLabel("وام ضروری 3").amount},{label:"خرید کارکنان 1",amount:e.getPayrollItemByLabel("خريد كاركنان 1").amount},{label:"خرید کارکنان 2",amount:e.getPayrollItemByLabel("خريد كاركنان 2").amount},{label:"خرید فروردین آریا",amount:e.getPayrollItemByLabel("خريد فروردين آريا").amount},{label:"خرید اردیبهشت آریا",amount:e.getPayrollItemByLabel("خريد اريبهشت آريا").amount},{label:"خرید خرداد آریا",amount:e.getPayrollItemByLabel("خريد خرداد آريا").amount},{label:"خرید تیر آریا",amount:e.getPayrollItemByLabel("خرید تیر آریا").amount},{label:"خرید مرداد آریا",amount:e.getPayrollItemByLabel("خريد مرداد آريا").amount},{label:"خرید شهریور آریا",amount:e.getPayrollItemByLabel("خريد شهريور آريا").amount},{label:"خرید مهر آریا",amount:e.getPayrollItemByLabel("خريد مهر آريا").amount},{label:"خرید آبان آریا",amount:e.getPayrollItemByLabel("خريد آبان آريا").amount},{label:"خرید آذر آریا",amount:e.getPayrollItemByLabel("خريد آذر آريا").amount},{label:"خرید دی آریا",amount:e.getPayrollItemByLabel("خريد دی آريا").amount},{label:"خرید بهمن آریا",amount:e.getPayrollItemByLabel("خريد بهمن آريا").amount},{label:"خرید فروردین چادرملو",amount:e.getPayrollItemByLabel("خريد فروردين چادرملو").amount},{label:"خرید اردیبهشت چادرملو",amount:e.getPayrollItemByLabel("خريد ارديبهشت چادرملو").amount},{label:"خرید خرداد چادرملو",amount:e.getPayrollItemByLabel("خريد خرداد چادرملو").amount},{label:"خرید تیر چادرملو",amount:e.getPayrollItemByLabel("خريد تير چادرملو").amount},{label:"خرید مرداد چادرملو",amount:e.getPayrollItemByLabel("خريد مرداد چادرملو").amount},{label:"خرید شهریور چادرملو",amount:e.getPayrollItemByLabel("خريد شهريور چادرملو").amount},{label:"خرید مهر چادرملو",amount:e.getPayrollItemByLabel("خريد مهر چادرملو").amount},{label:"خرید آبان چادرملو",amount:e.getPayrollItemByLabel("خريد آبان چادرملو").amount},{label:"خرید آذر چادرملو",amount:e.getPayrollItemByLabel("خريد آذر چادرملو").amount},{label:"خرید دی چادرملو",amount:e.getPayrollItemByLabel("خريد دي چادرملو").amount},{label:"خرید بهمن چادرملو",amount:e.getPayrollItemByLabel("خريد بهمن چادرملو").amount},{label:"فروردین ابوطالبی",amount:e.getPayrollItemByLabel("خريد فروردين ابوطالبی").amount},{label:"اردیبهشت ابوطالبی",amount:e.getPayrollItemByLabel("خريد ارديبهشت ابوطالبی").amount},{label:"خرداد ابوطالبی",amount:e.getPayrollItemByLabel("خريد خرداد ابوطالبی").amount},{label:"تیر ابوطالبی",amount:e.getPayrollItemByLabel("خريد تير ابوطالبی").amount},{label:"مرداد ابوطالبی",amount:e.getPayrollItemByLabel("خريد مرداد ابوطالبی").amount},{label:"شهریور ابوطالبی",amount:e.getPayrollItemByLabel("خريد شهريور ابوطالبی").amount},{label:"مهر ابوطالبی",amount:e.getPayrollItemByLabel("خريد مهر ابوطالبی").amount},{label:"آبان ابوطالبی",amount:e.getPayrollItemByLabel("خريد آبان ابوطالبی").amount},{label:"آذر ابوطالبی",amount:e.getPayrollItemByLabel("خريد آذر ابوطالبی").amount},{label:"دی ابوطالبی",amount:e.getPayrollItemByLabel("خريد دي ابوطالبی").amount},{label:"بهمن ابوطالبی",amount:e.getPayrollItemByLabel("خريد بهمن ابوطالبی").amount},{label:"خرید فروردین شیشه",amount:e.getPayrollItemByLabel("خريد فروردين شیشه").amount},{label:"خرید اردیبهشت شیشه",amount:e.getPayrollItemByLabel("خرید اردیبهشت شیشه").amount},{label:"خرید خرداد شیشه",amount:e.getPayrollItemByLabel("خريد خرداد شیشه").amount},{label:"خرید تیر شیشه",amount:e.getPayrollItemByLabel("خريد تير شیشه").amount},{label:"خرید مرداد شیشه",amount:e.getPayrollItemByLabel("خريد مرداد شیشه").amount},{label:"خرید شهریور شیشه",amount:e.getPayrollItemByLabel("خريد شهريور شیشه").amount},{label:"خرید مهر شیشه",amount:e.getPayrollItemByLabel("خريد مهر شیشه").amount},{label:"خرید آبان شیشه",amount:e.getPayrollItemByLabel("خريد آبان شیشه").amount},{label:"خرید آذر شیشه",amount:e.getPayrollItemByLabel("خريد آذر شیشه").amount},{label:"خرید دی شیشه",amount:e.getPayrollItemByLabel("خريد دي شیشه").amount},{label:"خرید بهمن شیشه",amount:e.getPayrollItemByLabel("خريد بهمن شیشه").amount},{label:"خرید فروردین سالار",amount:e.getPayrollItemByLabel("خرید فروردین سالار").amount},{label:"خرید اردیبهشت سالار",amount:e.getPayrollItemByLabel("خرید اردیبهشت سالار").amount},{label:"خرید خرداد سالار",amount:e.getPayrollItemByLabel("خريد خرداد سالار").amount},{label:"خرید تیر سالار",amount:e.getPayrollItemByLabel("خريد تير سالار").amount},{label:"خرید مرداد سالار",amount:e.getPayrollItemByLabel("خريد مرداد سالار").amount},{label:"خرید شهریور سالار",amount:e.getPayrollItemByLabel("خريد شهريور سالار").amount},{label:"خرید مهر سالار",amount:e.getPayrollItemByLabel("خريد مهر سالار").amount},{label:"خرید آبان سالار",amount:e.getPayrollItemByLabel("خريد آبان سالار").amount},{label:"خرید آذر سالار",amount:e.getPayrollItemByLabel("خريد آذر سالار").amount},{label:"خرید دی سالار",amount:e.getPayrollItemByLabel("خريد دي سالار").amount},{label:"خرید بهمن سالار",amount:e.getPayrollItemByLabel("خريد بهمن سالار").amount}].filter(s=>s.amount)),i=_(()=>({amount:e.getPayrollItemByLabel("جمع کسورات").amount,percentChange:e.getPayrollItemByLabel("جمع کسورات").percentChange}));return(s,r)=>(u(),h(I,{class:"deductions-card"},{default:a(()=>[t(M,{class:"pa-3"},{prepend:a(()=>[t(T,{color:"error",variant:"tonal",rounded:"",icon:"tabler-cash-banknote-minus"})]),default:a(()=>[t(S,null,{default:a(()=>[...r[0]||(r[0]=[p("کسورات",-1)])]),_:1}),t(O,null,{default:a(()=>[...r[1]||(r[1]=[p(" ریال ",-1)])]),_:1})]),_:1}),t(A),t(b,{class:"pa-3 pt-0"},{default:a(()=>[t(E,null,{default:a(()=>[(u(!0),d($,null,q(n(P),o=>(u(),h(V,{key:o.label,class:"pa-2"},{append:a(()=>[l("div",ze,[l("div",Me,m(("formatNumber"in s?s.formatNumber:n(x))(o.amount)),1)])]),default:a(()=>[t(F,{class:"text-wrap"},{default:a(()=>[p(m(o.label),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(b,null,{default:a(()=>[t(I,{variant:"tonal",color:"error"},{default:a(()=>[t(b,{class:"pa-3 sum-of-amounts-card"},{default:a(()=>[r[2]||(r[2]=l("div",{class:"label v-card-title pa-0 text-wrap"}," جمع کسورات ",-1)),l("h6",Se,m(("formatNumber"in s?s.formatNumber:n(x))(n(i).amount)),1),n(i).percentChange?(u(),d("div",Ee,[l("div",{class:w(`d-flex align-center ${n(i).percentChange>0?"text-error":"text-success"}`)},[l("div",qe,m(Math.abs(n(i).percentChange))+"% ",1),t(f,{icon:n(i).percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])],2)])):C("",!0)]),_:1})]),_:1})]),_:1})]),_:1}))}},De=j(Ae,[["__scopeId","data-v-6ee7d8c4"]]),je={class:"text-medium-emphasis ma-0 text-no-wrap"},Te={class:"text-primary ma-0 text-no-wrap"},Oe={__name:"EmployeeInfo",props:{getPayrollItemByLabel:{type:Function,required:!0}},setup(v){const e=v,P=_(()=>[{label:"کد پرسنلی",value:e.getPayrollItemByLabel("پرسنلی").amount,icon:"tabler-id"},{label:"نام و نام خانوادگی",value:`${e.getPayrollItemByLabel("نام").amount} ${e.getPayrollItemByLabel("نام خانوادگی").amount}`,icon:"tabler-user"},{label:"واحد کاری",value:e.getPayrollItemByLabel("واحد کاری").amount,icon:"tabler-building"},{label:"گروه",value:e.getPayrollItemByLabel("گروه").amount,icon:"tabler-star"},{label:"رتبه",value:e.getPayrollItemByLabel("رتبه").amount,icon:"tabler-tag-starred"}].filter(i=>i.value));return(i,s)=>(u(),h(I,null,{default:a(()=>[t(b,{class:"pa-3"},{default:a(()=>[t(D,null,{default:a(()=>[(u(!0),d($,null,q(n(P),r=>(u(),h(N,{key:r.label,class:"d-flex align-center"},{default:a(()=>[t(T,{variant:"text",color:"primary",rounded:"",size:"31",class:"text-primary me-0"},{default:a(()=>[t(f,{icon:r.icon,size:"22"},null,8,["icon"])]),_:2},1024),l("div",null,[l("p",je,m(r.label),1),l("p",Te,m(r.value),1)])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}))}},Je={class:"d-flex gap-x-4"},Ue={style:{"min-inline-size":"70px"},class:"d-flex justify-end"},Re={class:"text-sm"},He={class:"text-h6 amount"},Ye={key:0,class:"percent-change"},Ge={class:"text-sm"},Ke={__name:"OverTime",props:{getPayrollItemByLabel:{type:Function,required:!0}},setup(v){const e=v,P=_(()=>[{label:"اضافه‌کاری عادی",amount:e.getPayrollItemByLabel("اضافه كاري عادی*").amount,percentChange:e.getPayrollItemByLabel("اضافه كاري عادی*").percentChange},{label:"جمعه‌کاری",amount:e.getPayrollItemByLabel("جمعه كاری*").amount,percentChange:e.getPayrollItemByLabel("جمعه كاری*").percentChange}].filter(s=>s.amount||s.percentChange)),i=_(()=>({amount:e.getPayrollItemByLabel("جمع اضافه کاری / جمعه کاری").amount,percentChange:e.getPayrollItemByLabel("جمع اضافه کاری / جمعه کاری").percentChange}));return(s,r)=>(u(),h(I,{class:"overtime-card"},{default:a(()=>[t(M,{class:"pa-3"},{prepend:a(()=>[t(T,{color:"success",variant:"tonal",rounded:"",icon:"tabler-clock-plus"})]),default:a(()=>[t(S,null,{default:a(()=>[...r[0]||(r[0]=[p("اضافه‌کاری",-1)])]),_:1}),t(O,null,{default:a(()=>[...r[1]||(r[1]=[p(" ریال ",-1)])]),_:1})]),_:1}),t(A),t(b,{class:"pa-3 pt-0"},{default:a(()=>[t(E,null,{default:a(()=>[(u(!0),d($,null,q(n(P),o=>(u(),h(V,{key:o.label,class:"pa-2",variant:`${isFinite(o.percentChange)?"text":"outlined"}`,"base-color":`${isFinite(o.percentChange)?"":"success"}`},{append:a(()=>[l("div",Je,[l("div",{class:"text-body-1",style:U(`color: ${isFinite(o.percentChange)?"":"success"}`)},m(("formatNumber"in s?s.formatNumber:n(x))(o.amount)),5),l("div",Ue,[isFinite(o.percentChange)?o.percentChange?(u(),d("div",{key:1,class:w(`d-flex align-center ${o.percentChange>0?"text-success":"text-error"}`)},[l("div",Re,m(Math.abs(o.percentChange))+"% ",1),t(f,{icon:o.percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])],2)):C("",!0):(u(),h(f,{key:0,icon:"tabler-plus",size:"20",class:"mr-1"}))])])]),default:a(()=>[t(F,{class:"text-wrap"},{default:a(()=>[p(m(o.label),1)]),_:2},1024)]),_:2},1032,["variant","base-color"]))),128))]),_:1})]),_:1}),t(b,null,{default:a(()=>[t(I,{variant:"tonal",color:"success"},{default:a(()=>[t(b,{class:"pa-3 sum-of-amounts-card"},{default:a(()=>[r[2]||(r[2]=l("div",{class:"label v-card-title pa-0 text-wrap"}," جمع پرداختی اضافه‌کاری ",-1)),l("h6",He,m(("formatNumber"in s?s.formatNumber:n(x))(n(i).amount)),1),n(i).percentChange?(u(),d("div",Ye,[l("div",{class:w(`d-flex align-center ${n(i).percentChange>0?"text-success":"text-error"}`)},[l("div",Ge,m(Math.abs(n(i).percentChange))+"% ",1),t(f,{icon:n(i).percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])],2)])):C("",!0)]),_:1})]),_:1})]),_:1})]),_:1}))}},Qe=j(Ke,[["__scopeId","data-v-ca5a662e"]]),We={class:"d-flex gap-x-4"},Xe={style:{"min-inline-size":"70px"},class:"d-flex justify-end"},Ze={class:"text-sm"},et={class:"text-h6 amount"},tt={key:0,class:"percent-change"},at={class:"text-sm"},lt={__name:"Payments",props:{getPayrollItemByLabel:{type:Function,required:!0}},setup(v){const e=v,P=_(()=>[{label:"حقوق پایه",amount:e.getPayrollItemByLabel("حقوق پايه").amount,percentChange:e.getPayrollItemByLabel("حقوق پايه").percentChange},{label:"حق اولاد",amount:e.getPayrollItemByLabel("حق اولاد").amount,percentChange:e.getPayrollItemByLabel("حق اولاد").percentChange},{label:"حق مسکن",amount:e.getPayrollItemByLabel("حق مسكن").amount,percentChange:e.getPayrollItemByLabel("حق مسكن").percentChange},{label:"خواربار",amount:e.getPayrollItemByLabel("خواربار").amount,percentChange:e.getPayrollItemByLabel("خواربار").percentChange},{label:"حق تأهل",amount:e.getPayrollItemByLabel("حق تاهل").amount,percentChange:e.getPayrollItemByLabel("حق تاهل").percentChange},{label:"نوبت کاری 10%",amount:e.getPayrollItemByLabel("نوبتكاری 10%").amount,percentChange:e.getPayrollItemByLabel("نوبتكاری 10%").percentChange},{label:"نوبت کاری 15%",amount:e.getPayrollItemByLabel("نوبتكاری 15%").amount,percentChange:e.getPayrollItemByLabel("نوبتكاری 15%").percentChange},{label:"بن کارگری",amount:e.getPayrollItemByLabel("بن كارگری").amount,percentChange:e.getPayrollItemByLabel("بن كارگری").percentChange},{label:"پایه سنوات سالیانه",amount:e.getPayrollItemByLabel("پايه سنوات ساليانه").amount,percentChange:e.getPayrollItemByLabel("پايه سنوات ساليانه").percentChange},{label:"مزد سنوات",amount:e.getPayrollItemByLabel("مزد سنوات").amount,percentChange:e.getPayrollItemByLabel("مزد سنوات").percentChange},{label:"حق پست",amount:e.getPayrollItemByLabel("حق پست").amount,percentChange:e.getPayrollItemByLabel("حق پست").percentChange},{label:"ماندگاری پست",amount:e.getPayrollItemByLabel("ماندگاری پست").amount,percentChange:e.getPayrollItemByLabel("ماندگاری پست").percentChange},{label:"ماندگاری محیط کار (سختی کار)",amount:e.getPayrollItemByLabel("ماندگاری محيط كار(سختی كار)").amount,percentChange:e.getPayrollItemByLabel("ماندگاری محيط كار(سختی كار)").percentChange},{label:"محیط کار (سختی کار)",amount:e.getPayrollItemByLabel("محيط كار(سختی كار)").amount,percentChange:e.getPayrollItemByLabel("محيط كار(سختی كار)").percentChange},{label:"پاداش مدیریت",amount:e.getPayrollItemByLabel("پاداش مدیریت").amount,percentChange:e.getPayrollItemByLabel("پاداش مدیریت").percentChange},{label:"ماندگاری پاداش مدیریت",amount:e.getPayrollItemByLabel("ماندگاری پاداش مدیریت").amount,percentChange:e.getPayrollItemByLabel("ماندگاری پاداش مدیریت").percentChange},{label:"سایر مزایا",amount:e.getPayrollItemByLabel("ساير مزايا").amount,percentChange:e.getPayrollItemByLabel("ساير مزايا").percentChange},{label:"رتبه‌بندی",amount:e.getPayrollItemByLabel("رتبه بندی").amount,percentChange:e.getPayrollItemByLabel("رتبه بندی").percentChange},{label:"حق مأموریت",amount:e.getPayrollItemByLabel("حق ماموريت").amount,percentChange:e.getPayrollItemByLabel("حق ماموريت").percentChange},{label:"پرداختی معوق",amount:e.getPayrollItemByLabel("پرداختی معوق").amount,percentChange:e.getPayrollItemByLabel("پرداختی معوق").percentChange}].filter(s=>s.amount||s.percentChange)),i=_(()=>({amount:e.getPayrollItemByLabel("جمع ناخالص پرداختی").amount,percentChange:e.getPayrollItemByLabel("جمع ناخالص پرداختی").percentChange}));return(s,r)=>(u(),h(I,{class:"payments-card"},{default:a(()=>[t(M,{class:"pa-3"},{prepend:a(()=>[t(T,{color:"teal",variant:"tonal",rounded:"",icon:"tabler-cash-banknote-plus"})]),default:a(()=>[t(S,null,{default:a(()=>[...r[0]||(r[0]=[p("پایه پرداخت‌ها",-1)])]),_:1}),t(O,null,{default:a(()=>[...r[1]||(r[1]=[p(" ریال ",-1)])]),_:1})]),_:1}),t(A),t(b,{class:"pa-3 pt-0"},{default:a(()=>[t(E,null,{default:a(()=>[(u(!0),d($,null,q(n(P),o=>(u(),h(V,{key:o.label,class:"pa-2",variant:`${isFinite(o.percentChange)?"text":"outlined"}`,"base-color":`${isFinite(o.percentChange)?"":"teal"}`},{append:a(()=>[l("div",We,[l("div",{class:"text-body-1",style:U(`color: ${isFinite(o.percentChange)?"":"teal"}`)},m(("formatNumber"in s?s.formatNumber:n(x))(o.amount)),5),l("div",Xe,[isFinite(o.percentChange)?o.percentChange?(u(),d("div",{key:1,class:w(`d-flex align-center ${o.percentChange>0?"text-teal":"text-error"}`)},[l("div",Ze,m(Math.abs(o.percentChange))+"% ",1),t(f,{icon:o.percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])],2)):C("",!0):(u(),h(f,{key:0,icon:"tabler-plus",size:"20",class:"mr-1"}))])])]),default:a(()=>[t(F,{class:"text-wrap"},{default:a(()=>[p(m(o.label),1)]),_:2},1024)]),_:2},1032,["variant","base-color"]))),128))]),_:1})]),_:1}),t(b,null,{default:a(()=>[t(I,{variant:"tonal",color:"teal"},{default:a(()=>[t(b,{class:"pa-3 sum-of-amounts-card"},{default:a(()=>[r[2]||(r[2]=l("div",{class:"label v-card-title pa-0 text-wrap"}," جمع پایه‌ پرداخت‌ها ",-1)),l("h6",et,m(("formatNumber"in s?s.formatNumber:n(x))(n(i).amount)),1),n(i).percentChange?(u(),d("div",tt,[l("div",{class:w(`d-flex align-center ${n(i).percentChange>0?"text-teal":"text-error"}`)},[l("div",at,m(Math.abs(n(i).percentChange))+"% ",1),t(f,{icon:n(i).percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])],2)])):C("",!0)]),_:1})]),_:1})]),_:1})]),_:1}))}},nt=j(lt,[["__scopeId","data-v-6ae23a8d"]]),ot={key:0},rt={class:"text-lg mb-0"},st={class:"my-6"},ut={class:"text-h6 text-white amount"},mt={key:0,class:"percent-change"},it={class:"text-sm"},ct={class:"my-6"},yt={class:"text-h6 amount"},pt={key:0,class:"percent-change"},dt={class:"text-sm"},bt=2,gt={__name:"payroll-slip",setup(v){const e=H({hasError:!1,errorMessage:""}),P=Y([]),i=Y(),s=H({fetchingPayrollSlips:!1,print:!1}),r=_(()=>{var g;return(g=i.value)==null?void 0:g.split("/")[1]}),o=_(()=>{var g;return(g=i.value)==null?void 0:g.split("/")[0]});async function B(){s.fetchingPayrollSlips=!0;try{const{data:g,error:c}=await ee(te("/payroll/payroll-slip/get-the-last-few-months",{query:{month:r.value?Number(r.value):r.value,year:o.value?Number(o.value):o.value,last:bt}}));if(s.fetchingPayrollSlips=!1,c.value)throw c.value;P.value=g.value.data}catch(g){console.error("Error fetching payrollSlips:",g),e.hasError=!0,e.errorMessage=g.message||"خطا در دریافت فیش حقوقی"}}B();const y=_(()=>P.value[0]),R=_(()=>P.value[1]);function L(g){let c;if(y.value.payroll_items.forEach(k=>{k.item_title===g&&(c=k.item_value)}),c=c||0,!R.value)return{amount:c,percentChange:void 0};let z;return R.value.payroll_items.forEach(k=>{k.item_title===g&&(z=k.item_value)}),z=z||0,{amount:c,percentChange:!z&&!c?void 0:Number.parseFloat(((c-z)/z*100).toFixed(1))}}async function G(){s.print=!0,await ae.get("/payroll/payroll-slip/print",{params:{month:y.value.payroll_batch.month,year:y.value.payroll_batch.year}}).then(()=>{}).catch(({response:g})=>{console.error("Error printing payrollSlip:",g.data.message),e.hasError=!0,e.errorMessage=g.data.message||"خطا در چاپ فیش حقوقی"}).finally(()=>{s.print=!1})}return(g,c)=>{const z=Q("PersianDatetimePicker");return u(),d($,null,[t(le,{modelValue:n(e).hasError,"onUpdate:modelValue":c[0]||(c[0]=k=>n(e).hasError=k),timeout:2e3,location:"center",variant:"flat",color:"error"},{default:a(()=>[p(m(n(e).errorMessage),1)]),_:1},8,["modelValue"]),t(D,null,{default:a(()=>[t(N,null,{default:a(()=>[t(W,null,{default:a(()=>[t(z,{modelValue:n(i),"onUpdate:modelValue":c[1]||(c[1]=k=>X(i)?i.value=k:null),type:"year-month",simple:"",label:"دوره فیش",onChange:B},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),n(y)?(u(),d("div",ot,[t(D,null,{default:a(()=>[t(N,null,{default:a(()=>[c[2]||(c[2]=l("p",{class:"text-lg font-weight-bold mb-1"}," گروه کارخانجات شیشه اردکان ",-1)),l("p",rt," فیش حقوقی "+m(n(K)(n(y).payroll_batch.month))+" "+m(n(y).payroll_batch.year),1)]),_:1})]),_:1}),t(D,null,{default:a(()=>[t(N,null,{default:a(()=>[t(Oe,{"get-payroll-item-by-label":L})]),_:1})]),_:1}),l("div",st,[t(A,{color:"info",thickness:"3",class:"border-opacity-50"},{default:a(()=>[...c[3]||(c[3]=[l("span",{class:"v-card-title px-2 text-info v-card-title"},"پرداختی اول",-1)])]),_:1})]),t(D,null,{default:a(()=>[t(N,{cols:"12",sm:"12",md:"4",lg:"4",xl:"4",xxl:"4"},{default:a(()=>[t(Be,{"get-payroll-item-by-label":L}),c[4]||(c[4]=l("br",null,null,-1)),t(nt,{"get-payroll-item-by-label":L})]),_:1}),t(N,{cols:"12",sm:"12",md:"4",lg:"4",xl:"4",xxl:"4"},{default:a(()=>[t(De,{"get-payroll-item-by-label":L})]),_:1}),t(N,{cols:"12",sm:"12",md:"4",lg:"4",xl:"4",xxl:"4"},{default:a(()=>[t(Qe,{"get-payroll-item-by-label":L}),c[6]||(c[6]=l("br",null,null,-1)),t(fe,{"get-payroll-item-by-label":L}),c[7]||(c[7]=l("br",null,null,-1)),t(I,{color:"primary"},{default:a(()=>[t(b,{class:"pa-3 sum-of-amounts-card"},{default:a(()=>[c[5]||(c[5]=l("div",{class:"label v-card-title pa-0 text-white text-wrap"}," جمع خالص پرداختی‌های اول ",-1)),l("h6",ut,m(("formatNumber"in g?g.formatNumber:n(x))(L("جمع پرداختی اول").amount)),1),L("جمع پرداختی اول").percentChange?(u(),d("div",mt,[t(J,{variant:"flat",color:`${L("جمع پرداختی اول").percentChange>0?"success":"error"}`,class:"d-flex align-center"},{default:a(()=>[l("div",it,m(Math.abs(L("جمع پرداختی اول").percentChange))+"% ",1),t(f,{icon:L("جمع پرداختی اول").percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])]),_:1},8,["color"])])):C("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),l("div",ct,[t(A,{color:"info",thickness:"3",class:"border-opacity-50"},{default:a(()=>[...c[8]||(c[8]=[l("span",{class:"v-card-title px-2 text-info v-card-title"},"پرداختی دوم",-1)])]),_:1})]),t(D,null,{default:a(()=>[t(N,{cols:"12",sm:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:a(()=>[t(we,{"get-payroll-item-by-label":L})]),_:1})]),_:1}),t(D,{justify:"center",align:"center"},{default:a(()=>[t(N,{cols:"12",sm:"12",md:"6",lg:"4",xl:"4",xxl:"4"},{default:a(()=>[t(I,{color:"warning"},{default:a(()=>[t(b,{class:"pa-3 sum-of-amounts-card"},{default:a(()=>[c[9]||(c[9]=l("div",{class:"label v-card-title pa-0 text-wrap"}," جمع کل پرداخت‌ها ",-1)),l("h6",yt,m(("formatNumber"in g?g.formatNumber:n(x))(L("جمع کل پرداختی").amount)),1),L("جمع کل پرداختی").percentChange?(u(),d("div",pt,[t(J,{variant:"flat",color:`${L("جمع کل پرداختی").percentChange>0?"success":"error"}`,class:"d-flex align-center"},{default:a(()=>[l("div",dt,m(Math.abs(L("جمع کل پرداختی").percentChange))+"% ",1),t(f,{icon:L("جمع کل پرداختی").percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])]),_:1},8,["color"])])):C("",!0)]),_:1})]),_:1})]),_:1})]),_:1})])):C("",!0),t(Z,{class:"print-btn",icon:"",size:"x-large",disabled:n(s).print,loading:n(s).print,onClick:G},{default:a(()=>[t(f,{icon:"tabler-printer",size:"x-large"})]),_:1},8,["disabled","loading"])],64)}}},Mt=j(gt,[["__scopeId","data-v-891a37da"]]);export{Mt as default};
