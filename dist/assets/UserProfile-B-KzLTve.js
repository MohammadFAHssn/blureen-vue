import{C as g}from"./vue3-perfect-scrollbar-BP88ucvB.js";import{au as k,a5 as x,aa as h,b as o,J as A,y as B,aQ as C,ac as I,k as L,bA as u,f as l,m as w,n as e,o as s,e as a,bv as m,b8 as f,a1 as p,d as n,c as z,x as v,F as N,i as P,v as _,al as D}from"./index-3XR9ZcrJ.js";import{u as F}from"./useAbility-BWPAYwLt.js";import{V as R}from"./VMenu-Dji1XXTj.js";import{V as S,a as T,d as E}from"./VList-DsTTnrg1.js";import{V as y}from"./VBadge-as3cs62C.js";import"./VOverlay-DXoHel7h.js";import"./forwardRefs-BYSXgJht.js";import"./dialog-transition-hs5nTtGq.js";import"./createSimpleFunctional-CC6SZUOe.js";import"./VDivider-DAwV42bK.js";const J=x({start:Boolean,end:Boolean,...I(),...C()},"VListItemAction"),M=k()({name:"VListItemAction",props:J(),setup(r,i){let{slots:c}=i;return h(()=>o(r.tag,{class:B(["v-list-item-action",{"v-list-item-action--start":r.start,"v-list-item-action--end":r.end},r.class]),style:A(r.style)},c)),{}}}),Q={class:"d-flex gap-2 align-center"},U={class:"text-h6 font-weight-medium"},j={class:"px-4 py-2"},at={__name:"UserProfile",setup(r){const i=L(),c=F(),t=u("userData");async function V(){u("accessToken").value=null,t.value.role.includes("supplier")?await i.replace("/login-supplier"):await i.replace("/login"),t.value=null,u("userAbilityRules").value=null,c.update([])}return(q,d)=>e(t)?(s(),l(y,{key:0,dot:"",bordered:"",location:"bottom right","offset-x":"1","offset-y":"2",color:"success"},{default:a(()=>[o(m,{size:"38",class:"cursor-pointer",color:e(t)&&e(t).avatar?void 0:"primary",variant:e(t)&&e(t).avatar?void 0:"tonal"},{default:a(()=>[e(t)&&e(t).avatar?(s(),l(f,{key:0,src:e(t).avatar},null,8,["src"])):(s(),l(p,{key:1,icon:"tabler-user"})),o(R,{activator:"parent",width:"240",location:"bottom end",offset:"12px"},{default:a(()=>[o(S,null,{default:a(()=>[o(T,null,{default:a(()=>[n("div",Q,[o(M,null,{default:a(()=>[o(y,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success",bordered:""},{default:a(()=>[o(m,{color:e(t)&&e(t).avatar?void 0:"primary",variant:e(t)&&e(t).avatar?void 0:"tonal"},{default:a(()=>[e(t)&&e(t).avatar?(s(),l(f,{key:0,src:e(t).avatar},null,8,["src"])):(s(),l(p,{key:1,icon:"tabler-user"}))]),_:1},8,["color","variant"])]),_:1})]),_:1}),n("div",null,[n("h6",U,v(e(t).fullName||e(t).username),1),(s(!0),z(N,null,P(e(t).role,b=>(s(),l(E,{class:"text-capitalize text-disabled"},{default:a(()=>[_(v(b),1)]),_:2},1024))),256))])])]),_:1}),o(e(g),{options:{wheelPropagation:!1}},{default:a(()=>[n("div",j,[o(D,{block:"",size:"small",color:"error","append-icon":"tabler-logout",onClick:V},{default:a(()=>d[0]||(d[0]=[_(" خروج ",-1)])),_:1,__:[0]})])]),_:1})]),_:1})]),_:1})]),_:1},8,["color","variant"])]),_:1})):w("",!0)}};export{at as default};
