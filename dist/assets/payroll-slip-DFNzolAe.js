import{g as K}from"./helpers-CcX6MmOA.js";import{M as A,Y as _,f as h,o as u,e as a,b as t,m as C,v as p,bB as D,c as y,F as N,i as U,n,x as m,d as l,J,a1 as f,y as z,a2 as O,bJ as Q,r as W,a as Z,aH as ee,bv as te,am as ae}from"./index-DJtTo778.js";import{a as M,b as S,d as T,V as I}from"./VCard-BDjwiKTp.js";import{V as j}from"./VDivider-kKo2qnor.js";import{V as g}from"./VCardText-BQjyoIts.js";import{V as E,a as V,b as F}from"./VList-BCAhOZXo.js";import{V as q}from"./VRow-BiKHgzSd.js";import{V as w}from"./VCol-CvgeTsfI.js";import{u as le}from"./useApi-BDw6nypk.js";import{c as ne}from"./createUrl-DL11nlfk.js";import{a as oe}from"./axios-8QhDCW4f.js";import{V as re}from"./VSnackbar-BnpSLZg7.js";import"./createSimpleFunctional-DweeT_KK.js";/* empty css              */import"./useLogout-DoVtXHiN.js";import"./index-CvOPxmL5.js";import"./VOverlay-C0Z5_WIc.js";function x(v){const e=Math.abs(v).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return v<0?`${e}-`:e}const se={class:"d-flex gap-x-4"},ue={style:{"min-inline-size":"70px"},class:"d-flex justify-end"},me={class:"text-sm"},ie={class:"d-flex gap-x-4"},ce={style:{"min-inline-size":"70px"},class:"d-flex justify-end"},de={class:"text-sm"},pe={class:"d-flex gap-x-4"},ye={class:"text-body-1"},be={class:"d-flex gap-x-4"},ge={class:"text-body-1"},he={class:"text-h6 amount"},fe={key:0,class:"percent-change"},_e={class:"text-sm"},ve={__name:"Allowances",props:{getPayrollItemByLabel:{type:Function,required:!0}},setup(v){const e=v,P=_(()=>[{label:"ماندگاری در شرکت",amount:e.getPayrollItemByLabel("ماندگاری در شركت").amount,percentChange:e.getPayrollItemByLabel("ماندگاری در شركت").percentChange},{label:"پاداش فنی",amount:e.getPayrollItemByLabel("پاداش فنی").amount,percentChange:e.getPayrollItemByLabel("پاداش فنی").percentChange},{label:"فوق‌العاده مدیریت",amount:e.getPayrollItemByLabel("فوق العاده مدیریت").amount,percentChange:e.getPayrollItemByLabel("فوق العاده مدیریت").percentChange}].filter(o=>o.amount||o.percentChange)),i=_(()=>[{label:"کمک هزینه درمان",amount:e.getPayrollItemByLabel("کمک هزینه درمان").amount,percentChange:e.getPayrollItemByLabel("کمک هزینه درمان").percentChange},{label:"کمک هزینه سفر",amount:e.getPayrollItemByLabel("کمک هزینه سفر").amount,percentChange:e.getPayrollItemByLabel("کمک هزینه سفر").percentChange},{label:"کمک هزینه فرهنگی، ورزشی، سرگرمی",amount:e.getPayrollItemByLabel("فرهنگی ورزشی").amount,percentChange:e.getPayrollItemByLabel("فرهنگی ورزشی").percentChange},{label:"کمک هزینه حمایت از خانواده",amount:e.getPayrollItemByLabel("حمایت از خانواده").amount,percentChange:e.getPayrollItemByLabel("حمایت از خانواده").percentChange}]),s=_(()=>({amount:e.getPayrollItemByLabel("كسر فوق العاده").amount,reason:e.getPayrollItemByLabel("علت کسر پاداش").amount})),r=_(()=>({amount:e.getPayrollItemByLabel("جمع فوق العاده").amount,percentChange:e.getPayrollItemByLabel("جمع فوق العاده").percentChange}));return(o,B)=>(u(),h(I,{class:"allowances-card"},{default:a(()=>[t(M,{class:"pa-3"},{prepend:a(()=>[t(D,{color:"light-green",variant:"tonal",rounded:"",icon:"tabler-medal"})]),default:a(()=>[t(S,null,{default:a(()=>[...B[0]||(B[0]=[p("فوق‌العاده جذب",-1)])]),_:1}),t(T,null,{default:a(()=>[...B[1]||(B[1]=[p(" ریال ",-1)])]),_:1})]),_:1}),t(j),t(g,{class:"pa-3 pt-0"},{default:a(()=>[t(E,null,{default:a(()=>[(u(!0),y(N,null,U(n(P),d=>(u(),h(V,{key:d.label,class:"pa-2",variant:`${isFinite(d.percentChange)?"text":"outlined"}`,"base-color":`${isFinite(d.percentChange)?"":"light-green"}`},{append:a(()=>[l("div",se,[l("div",{class:"text-body-1",style:J(`color: ${isFinite(d.percentChange)?"":"light-green"}`)},m(("formatNumber"in o?o.formatNumber:n(x))(d.amount)),5),l("div",ue,[isFinite(d.percentChange)?d.percentChange?(u(),y("div",{key:1,class:z(`d-flex align-center ${d.percentChange>0?"text-light-green":"text-error"}`)},[l("div",me,m(Math.abs(d.percentChange))+"% ",1),t(f,{icon:d.percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])],2)):C("",!0):(u(),h(f,{key:0,icon:"tabler-plus",size:"20",class:"mr-1"}))])])]),default:a(()=>[t(F,{class:"text-wrap"},{default:a(()=>[p(m(d.label),1)]),_:2},1024)]),_:2},1032,["variant","base-color"]))),128))]),_:1})]),_:1}),t(g,null,{default:a(()=>[t(I,{variant:"outlined",color:"light-green-lighten-3"},{default:a(()=>[t(M,{class:"pa-3"},{default:a(()=>[t(S,{class:"v-list-item-title font-weight-bold"},{default:a(()=>[...B[2]||(B[2]=[p(" رفاهیات ",-1)])]),_:1})]),_:1}),t(g,{class:"pa-3 pt-0"},{default:a(()=>[t(E,null,{default:a(()=>[(u(!0),y(N,null,U(n(i),d=>(u(),h(V,{key:d.label,class:"pa-2",variant:`${isFinite(d.percentChange)?"text":"outlined"}`,"base-color":`${isFinite(d.percentChange)?"":"light-green"}`},{append:a(()=>[l("div",ie,[l("div",{class:"text-body-1",style:J(`color: ${isFinite(d.percentChange)?"":"light-green"}`)},m(("formatNumber"in o?o.formatNumber:n(x))(d.amount)),5),l("div",ce,[isFinite(d.percentChange)?d.percentChange?(u(),y("div",{key:1,class:z(`d-flex align-center ${d.percentChange>0?"text-light-green":"text-error"}`)},[l("div",de,m(Math.abs(d.percentChange))+"% ",1),t(f,{icon:d.percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])],2)):C("",!0):(u(),h(f,{key:0,icon:"tabler-plus",size:"20",class:"mr-1"}))])])]),default:a(()=>[t(F,{class:"text-wrap"},{default:a(()=>[p(m(d.label),1)]),_:2},1024)]),_:2},1032,["variant","base-color"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),n(s).amount?(u(),h(g,{key:0},{default:a(()=>[t(I,{variant:"outlined",color:"error-lighten-2"},{default:a(()=>[t(M,{class:"pa-3"},{default:a(()=>[t(S,{class:"v-list-item-title font-weight-bold"},{default:a(()=>[...B[3]||(B[3]=[p(" کسورات فوق‌العاده جذب ",-1)])]),_:1})]),_:1}),t(g,{class:"pa-3 pt-0"},{default:a(()=>[t(E,null,{default:a(()=>[t(V,{class:"pa-2"},{append:a(()=>[l("div",pe,[l("div",ye,m(("formatNumber"in o?o.formatNumber:n(x))(n(s).amount)),1)])]),default:a(()=>[t(F,{class:"text-wrap"},{default:a(()=>[...B[4]||(B[4]=[p(" مقدار ",-1)])]),_:1})]),_:1}),t(V,{class:"pa-2"},{append:a(()=>[l("div",be,[l("div",ge,m(n(s).reason),1)])]),default:a(()=>[t(F,{class:"text-wrap"},{default:a(()=>[...B[5]||(B[5]=[p(" علت ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):C("",!0),t(g,null,{default:a(()=>[t(I,{variant:"tonal",color:"light-green"},{default:a(()=>[t(g,{class:"pa-3 sum-of-amounts-card"},{default:a(()=>[B[6]||(B[6]=l("div",{class:"label v-card-title pa-0 text-wrap"}," جمع فوق‌العاده جذب ",-1)),l("h6",he,m(("formatNumber"in o?o.formatNumber:n(x))(n(r).amount)),1),n(r).percentChange?(u(),y("div",fe,[l("div",{class:z(`d-flex align-center ${n(r).percentChange>0?"text-light-green":"text-error"}`)},[l("div",_e,m(Math.abs(n(r).percentChange))+"% ",1),t(f,{icon:n(r).percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])],2)])):C("",!0)]),_:1})]),_:1})]),_:1})]),_:1}))}},Pe=A(ve,[["__scopeId","data-v-2a8479c0"]]),Be={class:"d-flex gap-x-4"},Le={class:"text-body-1"},Ce={__name:"Attendances",props:{getPayrollItemByLabel:{type:Function,required:!0}},setup(v){const e=v,P=_(()=>[{label:"کارکرد عادی",minutes:e.getPayrollItemByLabel("دقیقه كاركرد عادی").amount},{label:"بیماری",minutes:e.getPayrollItemByLabel("دقیقه بيماری").amount},{label:"غیبت",minutes:e.getPayrollItemByLabel("دقیقه غيبت").amount},{label:"مرخصی بدون حقوق",minutes:e.getPayrollItemByLabel("دقیقه مرخصی بدون حقوق").amount},{label:"اضافه‌کاری",minutes:e.getPayrollItemByLabel("دقیقه اضافه كاری عادی").amount},{label:"جمعه‌کاری",minutes:e.getPayrollItemByLabel("دقیقه جمعه كاری").amount}].filter(i=>i.minutes));return(i,s)=>(u(),h(I,{class:"attendances-card"},{default:a(()=>[t(M,{class:"pa-3"},{prepend:a(()=>[t(D,{color:"secondary",variant:"tonal",rounded:"",icon:"tabler-clock"})]),default:a(()=>[t(S,null,{default:a(()=>[...s[0]||(s[0]=[p("کارکرد و غیبت",-1)])]),_:1}),t(T,null,{default:a(()=>[...s[1]||(s[1]=[p(" دقیقه ",-1)])]),_:1})]),_:1}),t(j),t(g,{class:"pa-3 pt-0"},{default:a(()=>[t(E,null,{default:a(()=>[(u(!0),y(N,null,U(n(P),r=>(u(),h(V,{key:r.label,class:"pa-2"},{append:a(()=>[l("div",Be,[l("div",Le,m(("formatNumber"in i?i.formatNumber:n(x))(r.minutes)),1)])]),default:a(()=>[t(F,{class:"text-wrap"},{default:a(()=>[p(m(r.label),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}))}},Ie=A(Ce,[["__scopeId","data-v-08382fd8"]]),xe={key:0},$e={key:1},ke={class:"d-flex gap-x-4"},Ne={style:{"min-inline-size":"70px"},class:"d-flex justify-end"},we={class:"text-sm"},Ve={class:"text-h6 text-white amount"},Fe={key:0,class:"percent-change"},ze={class:"text-sm"},Me={__name:"Bonuses",props:{getPayrollItemByLabel:{type:Function,required:!0}},setup(v){const e=v,P=_(()=>[{label:"پاداش شناور فردی (ارزیابی)",period:e.getPayrollItemByLabel("دوره ارزیابی").amount,group:e.getPayrollItemByLabel("گروه ارزیابی").amount,amount:e.getPayrollItemByLabel("پاداش شناور فردی(ارزيابی)").amount,percentChange:e.getPayrollItemByLabel("پاداش شناور فردی(ارزيابی)").percentChange},{label:"پاداش شناور گروهی (بهره‌وری)",amount:e.getPayrollItemByLabel("پاداش شناور گروهی(بهره وری)").amount,percentChange:e.getPayrollItemByLabel("پاداش شناور گروهی(بهره وری)").percentChange},{label:"پاداش شناور مدیر واحد",amount:e.getPayrollItemByLabel("پاداش شناور مدير واحد").amount,percentChange:e.getPayrollItemByLabel("پاداش شناور مدير واحد").percentChange},{label:"فوق‌العاده بهره‌وری",amount:e.getPayrollItemByLabel("فوق العاده بهره وری").amount,percentChange:e.getPayrollItemByLabel("فوق العاده بهره وری").percentChange}].filter(s=>s.amount||s.percentChange)),i=_(()=>({amount:e.getPayrollItemByLabel("جمع پاداش").amount,percentChange:e.getPayrollItemByLabel("جمع پاداش").percentChange}));return(s,r)=>(u(),y(N,null,[t(I,{class:"bonuses-card mb-3"},{default:a(()=>[t(M,{class:"pa-3"},{prepend:a(()=>[t(D,{color:"primary",variant:"tonal",rounded:"",icon:"tabler-gift"})]),default:a(()=>[t(S,null,{default:a(()=>[...r[0]||(r[0]=[p("پاداش‌ها",-1)])]),_:1}),t(T,null,{default:a(()=>[...r[1]||(r[1]=[p(" ریال ",-1)])]),_:1})]),_:1}),t(j),t(g,{class:"pa-3 pt-0"},{default:a(()=>[t(E,null,{default:a(()=>[(u(!0),y(N,null,U(n(P),o=>(u(),h(V,{key:o.label,class:"pa-2",variant:`${isFinite(o.percentChange)?"text":"outlined"}`,"base-color":`${isFinite(o.percentChange)?"":"primary"}`},{append:a(()=>[l("div",ke,[l("div",{class:"text-body-1",style:J(`color: ${isFinite(o.percentChange)?"":"primary"}`)},m(("formatNumber"in s?s.formatNumber:n(x))(o.amount)),5),l("div",Ne,[isFinite(o.percentChange)?o.percentChange?(u(),y("div",{key:1,class:z(`d-flex align-center ${o.percentChange>0?"text-success":"text-error"}`)},[l("div",we,m(Math.abs(o.percentChange))+"% ",1),t(f,{icon:o.percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])],2)):C("",!0):(u(),h(f,{key:0,icon:"tabler-plus",size:"20",class:"mr-1"}))])])]),default:a(()=>[t(F,{class:"text-wrap"},{default:a(()=>[p(m(o.label)+" ",1),o.period?(u(),y("div",xe,[r[2]||(r[2]=p(" دوره ",-1)),t(O,{variant:"outlined",color:"primary",label:!1},{default:a(()=>[p(m(o.period),1)]),_:2},1024)])):C("",!0),o.group?(u(),y("div",$e,[r[3]||(r[3]=p(" گروه ",-1)),t(O,{variant:"flat",color:"primary",label:!1},{default:a(()=>[p(m(o.group),1)]),_:2},1024)])):C("",!0)]),_:2},1024)]),_:2},1032,["variant","base-color"]))),128))]),_:1})]),_:1})]),_:1}),t(I,{color:"primary"},{default:a(()=>[t(g,{class:"pa-3 sum-of-amounts-card"},{default:a(()=>[r[4]||(r[4]=l("div",{class:"label v-card-title pa-0 text-white text-wrap"}," جمع پاداش‌ها (پرداختی دوم) ",-1)),l("h6",Ve,m(("formatNumber"in s?s.formatNumber:n(x))(n(i).amount)),1),n(i).percentChange?(u(),y("div",Fe,[t(O,{variant:"flat",color:`${n(i).percentChange>0?"success":"error"}`,class:"d-flex align-center"},{default:a(()=>[l("div",ze,m(Math.abs(n(i).percentChange))+"% ",1),t(f,{icon:n(i).percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])]),_:1},8,["color"])])):C("",!0)]),_:1})]),_:1})],64))}},Se=A(Me,[["__scopeId","data-v-6d54cee5"]]),Ee={class:"d-flex gap-x-4"},Ue={class:"text-body-1"},je={class:"text-h6 amount"},qe={key:0,class:"percent-change"},Ae={class:"text-sm"},De={__name:"Deductions",props:{getPayrollItemByLabel:{type:Function,required:!0}},setup(v){const e=v,P=_(()=>[{label:"بیمه سهم کارمند",amount:e.getPayrollItemByLabel("بيمه سهم كارمند").amount},{label:"مالیات ماه",amount:e.getPayrollItemByLabel("ماليات ماه").amount},{label:"بیمه تکمیلی",amount:e.getPayrollItemByLabel("بيمه تكميلی").amount},{label:"کسر جاری کارکنان",amount:e.getPayrollItemByLabel("كسر جاری كاركنان").amount},{label:"وام ضروری",amount:e.getPayrollItemByLabel("وام ضروری").amount},{label:"وام ضروری 3",amount:e.getPayrollItemByLabel("وام ضروری 3").amount},{label:"خرید کارکنان 1",amount:e.getPayrollItemByLabel("خريد كاركنان 1").amount},{label:"خرید کارکنان 2",amount:e.getPayrollItemByLabel("خريد كاركنان 2").amount},{label:"خرید فروردین آریا",amount:e.getPayrollItemByLabel("خريد فروردين آريا").amount},{label:"خرید اردیبهشت آریا",amount:e.getPayrollItemByLabel("خريد اريبهشت آريا").amount},{label:"خرید خرداد آریا",amount:e.getPayrollItemByLabel("خريد خرداد آريا").amount},{label:"خرید تیر آریا",amount:e.getPayrollItemByLabel("خرید تیر آریا").amount},{label:"خرید مرداد آریا",amount:e.getPayrollItemByLabel("خريد مرداد آريا").amount},{label:"خرید شهریور آریا",amount:e.getPayrollItemByLabel("خريد شهريور آريا").amount},{label:"خرید مهر آریا",amount:e.getPayrollItemByLabel("خريد مهر آريا").amount},{label:"خرید آبان آریا",amount:e.getPayrollItemByLabel("خريد آبان آريا").amount},{label:"خرید آذر آریا",amount:e.getPayrollItemByLabel("خريد آذر آريا").amount},{label:"خرید دی آریا",amount:e.getPayrollItemByLabel("خريد دی آريا").amount},{label:"خرید بهمن آریا",amount:e.getPayrollItemByLabel("خريد بهمن آريا").amount},{label:"خرید فروردین چادرملو",amount:e.getPayrollItemByLabel("خريد فروردين چادرملو").amount},{label:"خرید اردیبهشت چادرملو",amount:e.getPayrollItemByLabel("خريد ارديبهشت چادرملو").amount},{label:"خرید خرداد چادرملو",amount:e.getPayrollItemByLabel("خريد خرداد چادرملو").amount},{label:"خرید تیر چادرملو",amount:e.getPayrollItemByLabel("خريد تير چادرملو").amount},{label:"خرید مرداد چادرملو",amount:e.getPayrollItemByLabel("خريد مرداد چادرملو").amount},{label:"خرید شهریور چادرملو",amount:e.getPayrollItemByLabel("خريد شهريور چادرملو").amount},{label:"خرید مهر چادرملو",amount:e.getPayrollItemByLabel("خريد مهر چادرملو").amount},{label:"خرید آبان چادرملو",amount:e.getPayrollItemByLabel("خريد آبان چادرملو").amount},{label:"خرید آذر چادرملو",amount:e.getPayrollItemByLabel("خريد آذر چادرملو").amount},{label:"خرید دی چادرملو",amount:e.getPayrollItemByLabel("خريد دي چادرملو").amount},{label:"خرید بهمن چادرملو",amount:e.getPayrollItemByLabel("خريد بهمن چادرملو").amount},{label:"فروردین ابوطالبی",amount:e.getPayrollItemByLabel("خريد فروردين ابوطالبی").amount},{label:"اردیبهشت ابوطالبی",amount:e.getPayrollItemByLabel("خريد ارديبهشت ابوطالبی").amount},{label:"خرداد ابوطالبی",amount:e.getPayrollItemByLabel("خريد خرداد ابوطالبی").amount},{label:"تیر ابوطالبی",amount:e.getPayrollItemByLabel("خريد تير ابوطالبی").amount},{label:"مرداد ابوطالبی",amount:e.getPayrollItemByLabel("خريد مرداد ابوطالبی").amount},{label:"شهریور ابوطالبی",amount:e.getPayrollItemByLabel("خريد شهريور ابوطالبی").amount},{label:"مهر ابوطالبی",amount:e.getPayrollItemByLabel("خريد مهر ابوطالبی").amount},{label:"آبان ابوطالبی",amount:e.getPayrollItemByLabel("خريد آبان ابوطالبی").amount},{label:"آذر ابوطالبی",amount:e.getPayrollItemByLabel("خريد آذر ابوطالبی").amount},{label:"دی ابوطالبی",amount:e.getPayrollItemByLabel("خريد دي ابوطالبی").amount},{label:"بهمن ابوطالبی",amount:e.getPayrollItemByLabel("خريد بهمن ابوطالبی").amount},{label:"خرید فروردین شیشه",amount:e.getPayrollItemByLabel("خريد فروردين شیشه").amount},{label:"خرید اردیبهشت شیشه",amount:e.getPayrollItemByLabel("خرید اردیبهشت شیشه").amount},{label:"خرید خرداد شیشه",amount:e.getPayrollItemByLabel("خريد خرداد شیشه").amount},{label:"خرید تیر شیشه",amount:e.getPayrollItemByLabel("خريد تير شیشه").amount},{label:"خرید مرداد شیشه",amount:e.getPayrollItemByLabel("خريد مرداد شیشه").amount},{label:"خرید شهریور شیشه",amount:e.getPayrollItemByLabel("خريد شهريور شیشه").amount},{label:"خرید مهر شیشه",amount:e.getPayrollItemByLabel("خريد مهر شیشه").amount},{label:"خرید آبان شیشه",amount:e.getPayrollItemByLabel("خريد آبان شیشه").amount},{label:"خرید آذر شیشه",amount:e.getPayrollItemByLabel("خريد آذر شیشه").amount},{label:"خرید دی شیشه",amount:e.getPayrollItemByLabel("خريد دي شیشه").amount},{label:"خرید بهمن شیشه",amount:e.getPayrollItemByLabel("خريد بهمن شیشه").amount},{label:"خرید فروردین سالار",amount:e.getPayrollItemByLabel("خرید فروردین سالار").amount},{label:"خرید اردیبهشت سالار",amount:e.getPayrollItemByLabel("خرید اردیبهشت سالار").amount},{label:"خرید خرداد سالار",amount:e.getPayrollItemByLabel("خريد خرداد سالار").amount},{label:"خرید تیر سالار",amount:e.getPayrollItemByLabel("خريد تير سالار").amount},{label:"خرید مرداد سالار",amount:e.getPayrollItemByLabel("خريد مرداد سالار").amount},{label:"خرید شهریور سالار",amount:e.getPayrollItemByLabel("خريد شهريور سالار").amount},{label:"خرید مهر سالار",amount:e.getPayrollItemByLabel("خريد مهر سالار").amount},{label:"خرید آبان سالار",amount:e.getPayrollItemByLabel("خريد آبان سالار").amount},{label:"خرید آذر سالار",amount:e.getPayrollItemByLabel("خريد آذر سالار").amount},{label:"خرید دی سالار",amount:e.getPayrollItemByLabel("خريد دي سالار").amount},{label:"خرید بهمن سالار",amount:e.getPayrollItemByLabel("خريد بهمن سالار").amount}].filter(s=>s.amount)),i=_(()=>({amount:e.getPayrollItemByLabel("جمع کسورات").amount,percentChange:e.getPayrollItemByLabel("جمع کسورات").percentChange}));return(s,r)=>(u(),h(I,{class:"deductions-card"},{default:a(()=>[t(M,{class:"pa-3"},{prepend:a(()=>[t(D,{color:"error",variant:"tonal",rounded:"",icon:"tabler-cash-banknote-minus"})]),default:a(()=>[t(S,null,{default:a(()=>[...r[0]||(r[0]=[p("کسورات",-1)])]),_:1}),t(T,null,{default:a(()=>[...r[1]||(r[1]=[p(" ریال ",-1)])]),_:1})]),_:1}),t(j),t(g,{class:"pa-3 pt-0"},{default:a(()=>[t(E,null,{default:a(()=>[(u(!0),y(N,null,U(n(P),o=>(u(),h(V,{key:o.label,class:"pa-2"},{append:a(()=>[l("div",Ee,[l("div",Ue,m(("formatNumber"in s?s.formatNumber:n(x))(o.amount)),1)])]),default:a(()=>[t(F,{class:"text-wrap"},{default:a(()=>[p(m(o.label),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),t(g,null,{default:a(()=>[t(I,{variant:"tonal",color:"error"},{default:a(()=>[t(g,{class:"pa-3 sum-of-amounts-card"},{default:a(()=>[r[2]||(r[2]=l("div",{class:"label v-card-title pa-0 text-wrap"}," جمع کسورات ",-1)),l("h6",je,m(("formatNumber"in s?s.formatNumber:n(x))(n(i).amount)),1),n(i).percentChange?(u(),y("div",qe,[l("div",{class:z(`d-flex align-center ${n(i).percentChange>0?"text-error":"text-success"}`)},[l("div",Ae,m(Math.abs(n(i).percentChange))+"% ",1),t(f,{icon:n(i).percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])],2)])):C("",!0)]),_:1})]),_:1})]),_:1})]),_:1}))}},Te=A(De,[["__scopeId","data-v-6ee7d8c4"]]),Re={class:"text-medium-emphasis ma-0 text-no-wrap"},Oe={class:"text-primary ma-0 text-no-wrap"},Je={__name:"EmployeeInfo",props:{getPayrollItemByLabel:{type:Function,required:!0}},setup(v){const e=v,P=_(()=>[{label:"کد پرسنلی",value:e.getPayrollItemByLabel("پرسنلی").amount,icon:"tabler-id"},{label:"نام و نام خانوادگی",value:`${e.getPayrollItemByLabel("نام").amount} ${e.getPayrollItemByLabel("نام خانوادگی").amount}`,icon:"tabler-user"},{label:"واحد کاری",value:e.getPayrollItemByLabel("واحد کاری").amount,icon:"tabler-building"},{label:"گروه",value:e.getPayrollItemByLabel("گروه").amount,icon:"tabler-star"},{label:"رتبه",value:e.getPayrollItemByLabel("رتبه").amount,icon:"tabler-tag-starred"}].filter(i=>i.value));return(i,s)=>(u(),h(I,null,{default:a(()=>[t(g,{class:"pa-3"},{default:a(()=>[t(q,null,{default:a(()=>[(u(!0),y(N,null,U(n(P),r=>(u(),h(w,{key:r.label,class:"d-flex align-center"},{default:a(()=>[t(D,{variant:"text",color:"primary",rounded:"",size:"31",class:"text-primary me-0"},{default:a(()=>[t(f,{icon:r.icon,size:"22"},null,8,["icon"])]),_:2},1024),l("div",null,[l("p",Re,m(r.label),1),l("p",Oe,m(r.value),1)])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}))}},He={class:"d-flex gap-x-4"},Ye={style:{"min-inline-size":"70px"},class:"d-flex justify-end"},Ge={class:"text-sm"},Ke={class:"text-h6 amount"},Qe={key:0,class:"percent-change"},We={class:"text-sm"},Xe={__name:"OverTime",props:{getPayrollItemByLabel:{type:Function,required:!0}},setup(v){const e=v,P=_(()=>[{label:"اضافه‌کاری عادی",amount:e.getPayrollItemByLabel("اضافه كاري عادی*").amount,percentChange:e.getPayrollItemByLabel("اضافه كاري عادی*").percentChange},{label:"جمعه‌کاری",amount:e.getPayrollItemByLabel("جمعه كاری*").amount,percentChange:e.getPayrollItemByLabel("جمعه كاری*").percentChange}].filter(s=>s.amount||s.percentChange)),i=_(()=>({amount:e.getPayrollItemByLabel("جمع اضافه کاری / جمعه کاری").amount,percentChange:e.getPayrollItemByLabel("جمع اضافه کاری / جمعه کاری").percentChange}));return(s,r)=>(u(),h(I,{class:"overtime-card"},{default:a(()=>[t(M,{class:"pa-3"},{prepend:a(()=>[t(D,{color:"success",variant:"tonal",rounded:"",icon:"tabler-clock-plus"})]),default:a(()=>[t(S,null,{default:a(()=>[...r[0]||(r[0]=[p("اضافه‌کاری",-1)])]),_:1}),t(T,null,{default:a(()=>[...r[1]||(r[1]=[p(" ریال ",-1)])]),_:1})]),_:1}),t(j),t(g,{class:"pa-3 pt-0"},{default:a(()=>[t(E,null,{default:a(()=>[(u(!0),y(N,null,U(n(P),o=>(u(),h(V,{key:o.label,class:"pa-2",variant:`${isFinite(o.percentChange)?"text":"outlined"}`,"base-color":`${isFinite(o.percentChange)?"":"success"}`},{append:a(()=>[l("div",He,[l("div",{class:"text-body-1",style:J(`color: ${isFinite(o.percentChange)?"":"success"}`)},m(("formatNumber"in s?s.formatNumber:n(x))(o.amount)),5),l("div",Ye,[isFinite(o.percentChange)?o.percentChange?(u(),y("div",{key:1,class:z(`d-flex align-center ${o.percentChange>0?"text-success":"text-error"}`)},[l("div",Ge,m(Math.abs(o.percentChange))+"% ",1),t(f,{icon:o.percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])],2)):C("",!0):(u(),h(f,{key:0,icon:"tabler-plus",size:"20",class:"mr-1"}))])])]),default:a(()=>[t(F,{class:"text-wrap"},{default:a(()=>[p(m(o.label),1)]),_:2},1024)]),_:2},1032,["variant","base-color"]))),128))]),_:1})]),_:1}),t(g,null,{default:a(()=>[t(I,{variant:"tonal",color:"success"},{default:a(()=>[t(g,{class:"pa-3 sum-of-amounts-card"},{default:a(()=>[r[2]||(r[2]=l("div",{class:"label v-card-title pa-0 text-wrap"}," جمع پرداختی اضافه‌کاری ",-1)),l("h6",Ke,m(("formatNumber"in s?s.formatNumber:n(x))(n(i).amount)),1),n(i).percentChange?(u(),y("div",Qe,[l("div",{class:z(`d-flex align-center ${n(i).percentChange>0?"text-success":"text-error"}`)},[l("div",We,m(Math.abs(n(i).percentChange))+"% ",1),t(f,{icon:n(i).percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])],2)])):C("",!0)]),_:1})]),_:1})]),_:1})]),_:1}))}},Ze=A(Xe,[["__scopeId","data-v-ca5a662e"]]),et={class:"d-flex gap-x-4"},tt={style:{"min-inline-size":"70px"},class:"d-flex justify-end"},at={class:"text-sm"},lt={class:"text-h6 amount"},nt={key:0,class:"percent-change"},ot={class:"text-sm"},rt={__name:"Payments",props:{getPayrollItemByLabel:{type:Function,required:!0}},setup(v){const e=v,P=_(()=>[{label:"حقوق پایه",amount:e.getPayrollItemByLabel("حقوق پايه").amount,percentChange:e.getPayrollItemByLabel("حقوق پايه").percentChange},{label:"حق اولاد",amount:e.getPayrollItemByLabel("حق اولاد").amount,percentChange:e.getPayrollItemByLabel("حق اولاد").percentChange},{label:"حق مسکن",amount:e.getPayrollItemByLabel("حق مسكن").amount,percentChange:e.getPayrollItemByLabel("حق مسكن").percentChange},{label:"خواربار",amount:e.getPayrollItemByLabel("خواربار").amount,percentChange:e.getPayrollItemByLabel("خواربار").percentChange},{label:"حق تأهل",amount:e.getPayrollItemByLabel("حق تاهل").amount,percentChange:e.getPayrollItemByLabel("حق تاهل").percentChange},{label:"نوبت کاری 10%",amount:e.getPayrollItemByLabel("نوبتكاری 10%").amount,percentChange:e.getPayrollItemByLabel("نوبتكاری 10%").percentChange},{label:"نوبت کاری 15%",amount:e.getPayrollItemByLabel("نوبتكاری 15%").amount,percentChange:e.getPayrollItemByLabel("نوبتكاری 15%").percentChange},{label:"بن کارگری",amount:e.getPayrollItemByLabel("بن كارگری").amount,percentChange:e.getPayrollItemByLabel("بن كارگری").percentChange},{label:"پایه سنوات سالیانه",amount:e.getPayrollItemByLabel("پايه سنوات ساليانه").amount,percentChange:e.getPayrollItemByLabel("پايه سنوات ساليانه").percentChange},{label:"مزد سنوات",amount:e.getPayrollItemByLabel("مزد سنوات").amount,percentChange:e.getPayrollItemByLabel("مزد سنوات").percentChange},{label:"حق پست",amount:e.getPayrollItemByLabel("حق پست").amount,percentChange:e.getPayrollItemByLabel("حق پست").percentChange},{label:"ماندگاری پست",amount:e.getPayrollItemByLabel("ماندگاری پست").amount,percentChange:e.getPayrollItemByLabel("ماندگاری پست").percentChange},{label:"ماندگاری محیط کار (سختی کار)",amount:e.getPayrollItemByLabel("ماندگاری محيط كار(سختی كار)").amount,percentChange:e.getPayrollItemByLabel("ماندگاری محيط كار(سختی كار)").percentChange},{label:"محیط کار (سختی کار)",amount:e.getPayrollItemByLabel("محيط كار(سختی كار)").amount,percentChange:e.getPayrollItemByLabel("محيط كار(سختی كار)").percentChange},{label:"پاداش مدیریت",amount:e.getPayrollItemByLabel("پاداش مدیریت").amount,percentChange:e.getPayrollItemByLabel("پاداش مدیریت").percentChange},{label:"ماندگاری پاداش مدیریت",amount:e.getPayrollItemByLabel("ماندگاری پاداش مدیریت").amount,percentChange:e.getPayrollItemByLabel("ماندگاری پاداش مدیریت").percentChange},{label:"سایر مزایا",amount:e.getPayrollItemByLabel("ساير مزايا").amount,percentChange:e.getPayrollItemByLabel("ساير مزايا").percentChange},{label:"رتبه‌بندی",amount:e.getPayrollItemByLabel("رتبه بندی").amount,percentChange:e.getPayrollItemByLabel("رتبه بندی").percentChange},{label:"حق مأموریت",amount:e.getPayrollItemByLabel("حق ماموريت").amount,percentChange:e.getPayrollItemByLabel("حق ماموريت").percentChange},{label:"پرداختی معوق",amount:e.getPayrollItemByLabel("پرداختی معوق").amount,percentChange:e.getPayrollItemByLabel("پرداختی معوق").percentChange}].filter(s=>s.amount||s.percentChange)),i=_(()=>({amount:e.getPayrollItemByLabel("جمع ناخالص پرداختی").amount,percentChange:e.getPayrollItemByLabel("جمع ناخالص پرداختی").percentChange}));return(s,r)=>(u(),h(I,{class:"payments-card"},{default:a(()=>[t(M,{class:"pa-3"},{prepend:a(()=>[t(D,{color:"teal",variant:"tonal",rounded:"",icon:"tabler-cash-banknote-plus"})]),default:a(()=>[t(S,null,{default:a(()=>[...r[0]||(r[0]=[p("پایه پرداخت‌ها",-1)])]),_:1}),t(T,null,{default:a(()=>[...r[1]||(r[1]=[p(" ریال ",-1)])]),_:1})]),_:1}),t(j),t(g,{class:"pa-3 pt-0"},{default:a(()=>[t(E,null,{default:a(()=>[(u(!0),y(N,null,U(n(P),o=>(u(),h(V,{key:o.label,class:"pa-2",variant:`${isFinite(o.percentChange)?"text":"outlined"}`,"base-color":`${isFinite(o.percentChange)?"":"teal"}`},{append:a(()=>[l("div",et,[l("div",{class:"text-body-1",style:J(`color: ${isFinite(o.percentChange)?"":"teal"}`)},m(("formatNumber"in s?s.formatNumber:n(x))(o.amount)),5),l("div",tt,[isFinite(o.percentChange)?o.percentChange?(u(),y("div",{key:1,class:z(`d-flex align-center ${o.percentChange>0?"text-teal":"text-error"}`)},[l("div",at,m(Math.abs(o.percentChange))+"% ",1),t(f,{icon:o.percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])],2)):C("",!0):(u(),h(f,{key:0,icon:"tabler-plus",size:"20",class:"mr-1"}))])])]),default:a(()=>[t(F,{class:"text-wrap"},{default:a(()=>[p(m(o.label),1)]),_:2},1024)]),_:2},1032,["variant","base-color"]))),128))]),_:1})]),_:1}),t(g,null,{default:a(()=>[t(I,{variant:"tonal",color:"teal"},{default:a(()=>[t(g,{class:"pa-3 sum-of-amounts-card"},{default:a(()=>[r[2]||(r[2]=l("div",{class:"label v-card-title pa-0 text-wrap"}," جمع پایه‌ پرداخت‌ها ",-1)),l("h6",lt,m(("formatNumber"in s?s.formatNumber:n(x))(n(i).amount)),1),n(i).percentChange?(u(),y("div",nt,[l("div",{class:z(`d-flex align-center ${n(i).percentChange>0?"text-teal":"text-error"}`)},[l("div",ot,m(Math.abs(n(i).percentChange))+"% ",1),t(f,{icon:n(i).percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])],2)])):C("",!0)]),_:1})]),_:1})]),_:1})]),_:1}))}},st=A(rt,[["__scopeId","data-v-6ae23a8d"]]),ut={key:0},mt={class:"text-lg mb-0"},it={class:"my-6"},ct={class:"text-h6 text-white amount"},dt={key:0,class:"percent-change"},pt={class:"text-sm"},yt={class:"my-6"},bt={class:"text-h6 amount"},gt={key:0,class:"percent-change"},ht={class:"text-sm"},ft=2,_t={__name:"payroll-slip",setup(v){const e=Q({hasError:!1,errorMessage:""}),P=W([]),i=W(),s=Q({fetchingPayrollSlips:!1,print:!1}),r=_(()=>{var b;return(b=i.value)==null?void 0:b.split("/")[1]}),o=_(()=>{var b;return(b=i.value)==null?void 0:b.split("/")[0]});async function B(){s.fetchingPayrollSlips=!0;try{const{data:b,error:c}=await le(ne("/payroll/payroll-slip/get-the-last-few-months",{query:{month:r.value?Number(r.value):r.value,year:o.value?Number(o.value):o.value,last:ft}}));if(s.fetchingPayrollSlips=!1,c.value)throw c.value;P.value=b.value.data}catch(b){console.error("Error fetching payrollSlips:",b),e.hasError=!0,e.errorMessage=b.message||"خطا در دریافت فیش حقوقی"}}B();const d=_(()=>P.value[0]),Y=_(()=>P.value[1]);function L(b){let c;if(d.value.payroll_items.forEach($=>{$.item_title===b&&(c=$.item_value)}),c=c||0,!Y.value)return{amount:c,percentChange:void 0};let k;return Y.value.payroll_items.forEach($=>{$.item_title===b&&(k=$.item_value)}),k=k||0,{amount:c,percentChange:!k&&!c?void 0:Number.parseFloat(((c-k)/k*100).toFixed(1))}}async function X(){s.print=!0;try{const b=await oe.get("/payroll/payroll-slip/print",{params:{month:d.value.payroll_batch.month,year:d.value.payroll_batch.year},responseType:"blob"}),c=new Blob([b.data],{type:"application/pdf"}),k=window.URL.createObjectURL(c),$=b.headers["content-disposition"];let G=`فیش-حقوقی-${K(d.value.payroll_batch.month)}-${d.value.payroll_batch.year}.pdf`;if($){const H=$.match(/filename\*?=['"]?(?:UTF-8'')?([^;\n"']+)['"]?/i);H!=null&&H[1]&&(G=decodeURIComponent(H[1]))}const R=document.createElement("a");R.href=k,R.download=G,document.body.appendChild(R),R.click(),document.body.removeChild(R),window.URL.revokeObjectURL(k)}catch{}finally{s.print=!1}}return(b,c)=>{const k=Z("PersianDatetimePicker");return u(),y(N,null,[t(re,{modelValue:n(e).hasError,"onUpdate:modelValue":c[0]||(c[0]=$=>n(e).hasError=$),timeout:2e3,location:"center",variant:"flat",color:"error"},{default:a(()=>[p(m(n(e).errorMessage),1)]),_:1},8,["modelValue"]),t(q,null,{default:a(()=>[t(w,null,{default:a(()=>[t(ee,null,{default:a(()=>[t(k,{modelValue:n(i),"onUpdate:modelValue":c[1]||(c[1]=$=>te(i)?i.value=$:null),type:"year-month",simple:"",label:"دوره فیش",onChange:B},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),n(d)?(u(),y("div",ut,[t(q,null,{default:a(()=>[t(w,null,{default:a(()=>[c[2]||(c[2]=l("p",{class:"text-lg font-weight-bold mb-1"}," گروه کارخانجات شیشه اردکان ",-1)),l("p",mt," فیش حقوقی "+m(n(K)(n(d).payroll_batch.month))+" "+m(n(d).payroll_batch.year),1)]),_:1})]),_:1}),t(q,null,{default:a(()=>[t(w,null,{default:a(()=>[t(Je,{"get-payroll-item-by-label":L})]),_:1})]),_:1}),l("div",it,[t(j,{color:"info",thickness:"3",class:"border-opacity-50"},{default:a(()=>[...c[3]||(c[3]=[l("span",{class:"v-card-title px-2 text-info v-card-title"},"پرداختی اول",-1)])]),_:1})]),t(q,null,{default:a(()=>[t(w,{cols:"12",sm:"12",md:"4",lg:"4",xl:"4",xxl:"4"},{default:a(()=>[t(Ie,{"get-payroll-item-by-label":L}),c[4]||(c[4]=l("br",null,null,-1)),t(st,{"get-payroll-item-by-label":L})]),_:1}),t(w,{cols:"12",sm:"12",md:"4",lg:"4",xl:"4",xxl:"4"},{default:a(()=>[t(Te,{"get-payroll-item-by-label":L})]),_:1}),t(w,{cols:"12",sm:"12",md:"4",lg:"4",xl:"4",xxl:"4"},{default:a(()=>[t(Ze,{"get-payroll-item-by-label":L}),c[6]||(c[6]=l("br",null,null,-1)),t(Pe,{"get-payroll-item-by-label":L}),c[7]||(c[7]=l("br",null,null,-1)),t(I,{color:"primary"},{default:a(()=>[t(g,{class:"pa-3 sum-of-amounts-card"},{default:a(()=>[c[5]||(c[5]=l("div",{class:"label v-card-title pa-0 text-white text-wrap"}," جمع خالص پرداختی‌های اول ",-1)),l("h6",ct,m(("formatNumber"in b?b.formatNumber:n(x))(L("جمع پرداختی اول").amount)),1),L("جمع پرداختی اول").percentChange?(u(),y("div",dt,[t(O,{variant:"flat",color:`${L("جمع پرداختی اول").percentChange>0?"success":"error"}`,class:"d-flex align-center"},{default:a(()=>[l("div",pt,m(Math.abs(L("جمع پرداختی اول").percentChange))+"% ",1),t(f,{icon:L("جمع پرداختی اول").percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])]),_:1},8,["color"])])):C("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),l("div",yt,[t(j,{color:"info",thickness:"3",class:"border-opacity-50"},{default:a(()=>[...c[8]||(c[8]=[l("span",{class:"v-card-title px-2 text-info v-card-title"},"پرداختی دوم",-1)])]),_:1})]),t(q,null,{default:a(()=>[t(w,{cols:"12",sm:"12",md:"6",lg:"6",xl:"4",xxl:"4"},{default:a(()=>[t(Se,{"get-payroll-item-by-label":L})]),_:1})]),_:1}),t(q,{justify:"center",align:"center"},{default:a(()=>[t(w,{cols:"12",sm:"12",md:"6",lg:"4",xl:"4",xxl:"4"},{default:a(()=>[t(I,{color:"warning"},{default:a(()=>[t(g,{class:"pa-3 sum-of-amounts-card"},{default:a(()=>[c[9]||(c[9]=l("div",{class:"label v-card-title pa-0 text-wrap"}," جمع کل پرداخت‌ها ",-1)),l("h6",bt,m(("formatNumber"in b?b.formatNumber:n(x))(L("جمع کل پرداختی").amount)),1),L("جمع کل پرداختی").percentChange?(u(),y("div",gt,[t(O,{variant:"flat",color:`${L("جمع کل پرداختی").percentChange>0?"success":"error"}`,class:"d-flex align-center"},{default:a(()=>[l("div",ht,m(Math.abs(L("جمع کل پرداختی").percentChange))+"% ",1),t(f,{icon:L("جمع کل پرداختی").percentChange>0?"tabler-chevron-up":"tabler-chevron-down",size:"20",class:"mr-1"},null,8,["icon"])]),_:1},8,["color"])])):C("",!0)]),_:1})]),_:1})]),_:1})]),_:1})])):C("",!0),t(ae,{class:"print-btn",icon:"",size:"x-large",disabled:n(s).print,loading:n(s).print,onClick:X},{default:a(()=>[t(f,{icon:"tabler-printer",size:"x-large"})]),_:1},8,["disabled","loading"])],64)}}},Ut=A(_t,[["__scopeId","data-v-da1286d4"]]);export{Ut as default};
