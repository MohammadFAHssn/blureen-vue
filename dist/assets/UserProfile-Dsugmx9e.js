import{C as g}from"./vue3-perfect-scrollbar-Dg81iwwg.js";import{au as k,a5 as x,aa as h,b as o,J as A,y as B,aQ as C,ac as I,k as L,bA as d,f as l,m as w,n as a,o as s,e,v as m,bv as f,b8 as p,a1 as v,d as u,c as z,x as _,F as N,i as P,al as D}from"./index-BePJ13DU.js";import{u as T}from"./useAbility-BdcdxE42.js";import{V as F}from"./VMenu-DNioC0TX.js";import{V as R,a as S,d as O}from"./VList-N3BMwLmJ.js";import{V as y}from"./VBadge-DjOQmZk9.js";import"./VOverlay-D8wLC9uD.js";import"./forwardRefs-BYSXgJht.js";import"./dialog-transition-CR17GCsx.js";import"./createSimpleFunctional-DeQgyvr1.js";import"./VDivider-BJJBe65t.js";const E=x({start:Boolean,end:Boolean,...I(),...C()},"VListItemAction"),J=k()({name:"VListItemAction",props:E(),setup(r,n){let{slots:c}=n;return h(()=>o(r.tag,{class:B(["v-list-item-action",{"v-list-item-action--start":r.start,"v-list-item-action--end":r.end},r.class]),style:A(r.style)},c)),{}}}),M={class:"d-flex gap-2 align-center"},Q={class:"text-h6 font-weight-medium"},U={class:"px-4 py-2"},et={__name:"UserProfile",setup(r){const n=L(),c=T(),t=d("userData");async function V(){d("accessToken").value=null,t.value.role.includes("supplier")?await n.replace("/login-supplier"):await n.replace("/login"),t.value=null,d("userAbilityRules").value=null,c.update([])}return(j,i)=>a(t)?(s(),l(y,{key:0,dot:"",bordered:"",location:"bottom right","offset-x":"1","offset-y":"2",color:"success"},{default:e(()=>[i[1]||(i[1]=m(" // TODO: add personnel avatars ",-1)),o(f,{size:"38",class:"cursor-pointer",color:a(t)&&a(t).avatar?void 0:"primary",variant:a(t)&&a(t).avatar?void 0:"tonal"},{default:e(()=>[a(t)&&a(t).avatar?(s(),l(p,{key:0,src:a(t).avatar},null,8,["src"])):(s(),l(v,{key:1,icon:"tabler-user"})),o(F,{activator:"parent",width:"240",location:"bottom end",offset:"12px"},{default:e(()=>[o(R,null,{default:e(()=>[o(S,null,{default:e(()=>[u("div",M,[o(J,null,{default:e(()=>[o(y,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success",bordered:""},{default:e(()=>[o(f,{color:a(t)&&a(t).avatar?void 0:"primary",variant:a(t)&&a(t).avatar?void 0:"tonal"},{default:e(()=>[a(t)&&a(t).avatar?(s(),l(p,{key:0,src:a(t).avatar},null,8,["src"])):(s(),l(v,{key:1,icon:"tabler-user"}))]),_:1},8,["color","variant"])]),_:1})]),_:1}),u("div",null,[u("h6",Q,_(a(t).fullName||a(t).username),1),(s(!0),z(N,null,P(a(t).role,b=>(s(),l(O,{class:"text-capitalize text-disabled"},{default:e(()=>[m(_(b),1)]),_:2},1024))),256))])])]),_:1}),o(a(g),{options:{wheelPropagation:!1}},{default:e(()=>[u("div",U,[o(D,{block:"",size:"small",color:"error","append-icon":"tabler-logout",onClick:V},{default:e(()=>i[0]||(i[0]=[m(" خروج ",-1)])),_:1,__:[0]})])]),_:1})]),_:1})]),_:1})]),_:1},8,["color","variant"])]),_:1,__:[1]})):w("",!0)}};export{et as default};
