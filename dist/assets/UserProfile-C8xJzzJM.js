import{C as b}from"./vue3-perfect-scrollbar-L2a7QEwq.js";import{an as k,a2 as h,a7 as x,b as o,aK as B,a9 as I,j as L,bs as u,f as l,l as A,m as e,o as s,e as a,$ as m,d as n,c as C,v as f,F as w,h as N,t as p,ah as P}from"./index-CTunE3IP.js";import{u as z}from"./useAbility-Zi8nB_vB.js";import{V as v}from"./VAvatar-BGtKN3qO.js";import{V as _}from"./VImg-DtwWNykg.js";import{V as D}from"./VMenu-Dflg2GRW.js";import{V as F,a as R,d as T}from"./VList-BeV2omr3.js";import{V}from"./VBadge-1gmEJZDU.js";import"./VOverlay-DRTc7_QJ.js";import"./dialog-transition--m28HBtE.js";import"./createSimpleFunctional-DRKr7S23.js";import"./VDivider-qtt3W4JL.js";const S=h({start:Boolean,end:Boolean,...I(),...B()},"VListItemAction"),j=k()({name:"VListItemAction",props:S(),setup(r,i){let{slots:c}=i;return x(()=>o(r.tag,{class:["v-list-item-action",{"v-list-item-action--start":r.start,"v-list-item-action--end":r.end},r.class],style:r.style},c)),{}}}),E={class:"d-flex gap-2 align-center"},K={class:"text-h6 font-weight-medium"},M={class:"px-4 py-2"},et={__name:"UserProfile",setup(r){const i=L(),c=z(),t=u("userData"),y=async()=>{u("accessToken").value=null,t.value.role.includes("supplier")?await i.replace("/login-supplier"):await i.replace("/login"),t.value=null,u("userAbilityRules").value=null,c.update([])};return(U,d)=>e(t)?(s(),l(V,{key:0,dot:"",bordered:"",location:"bottom right","offset-x":"1","offset-y":"2",color:"success"},{default:a(()=>[o(v,{size:"38",class:"cursor-pointer",color:e(t)&&e(t).avatar?void 0:"primary",variant:e(t)&&e(t).avatar?void 0:"tonal"},{default:a(()=>[e(t)&&e(t).avatar?(s(),l(_,{key:0,src:e(t).avatar},null,8,["src"])):(s(),l(m,{key:1,icon:"tabler-user"})),o(D,{activator:"parent",width:"240",location:"bottom end",offset:"12px"},{default:a(()=>[o(F,null,{default:a(()=>[o(R,null,{default:a(()=>[n("div",E,[o(j,null,{default:a(()=>[o(V,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success",bordered:""},{default:a(()=>[o(v,{color:e(t)&&e(t).avatar?void 0:"primary",variant:e(t)&&e(t).avatar?void 0:"tonal"},{default:a(()=>[e(t)&&e(t).avatar?(s(),l(_,{key:0,src:e(t).avatar},null,8,["src"])):(s(),l(m,{key:1,icon:"tabler-user"}))]),_:1},8,["color","variant"])]),_:1})]),_:1}),n("div",null,[n("h6",K,f(e(t).fullName||e(t).username),1),(s(!0),C(w,null,N(e(t).role,g=>(s(),l(T,{class:"text-capitalize text-disabled"},{default:a(()=>[p(f(g),1)]),_:2},1024))),256))])])]),_:1}),o(e(b),{options:{wheelPropagation:!1}},{default:a(()=>[n("div",M,[o(P,{block:"",size:"small",color:"error","append-icon":"tabler-logout",onClick:y},{default:a(()=>d[0]||(d[0]=[p(" خروج ")])),_:1})])]),_:1})]),_:1})]),_:1})]),_:1},8,["color","variant"])]),_:1})):A("",!0)}};export{et as default};
