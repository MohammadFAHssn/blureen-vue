import{av as z,a6 as $,al as A,aQ as w,aD as T,Y as s,a8 as D,ar as H,a7 as E,by as J,ab as Q,b as r,d as i,F as k,J as W,y as C,aV as Y,aW as j,bL as q,bM as G,ad as K,bF as P,s as O,am as U,v as X}from"./index-BLa7l-A_.js";const Z=$({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:P,default:"$ratingEmpty"},fullIcon:{type:P,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...K(),...G(),...q(),...j(),...Y()},"VRating"),ee=z()({name:"VRating",props:Z(),emits:{"update:modelValue":e=>!0},setup(e,F){let{slots:u}=F;const{t:h}=A(),{themeClasses:B}=w(e),y=T(e,"modelValue"),d=s(()=>D(parseFloat(y.value),0,Number(e.length))),V=s(()=>H(Number(e.length),1)),I=s(()=>V.value.flatMap(a=>e.halfIncrements?[a-.5,a]:[a])),m=E(-1),g=s(()=>I.value.map(a=>{const l=e.hover&&m.value>-1,n=d.value>=a,t=m.value>=a,o=(l?t:n)?e.fullIcon:e.emptyIcon,f=e.activeColor??e.color,b=n||t?f:e.color;return{isFilled:n,isHovered:t,icon:o,color:b}})),R=s(()=>[0,...I.value].map(a=>{function l(){m.value=a}function n(){m.value=-1}function t(){e.disabled||e.readonly||(y.value=d.value===a&&e.clearable?0:a)}return{onMouseenter:e.hover?l:void 0,onMouseleave:e.hover?n:void 0,onClick:t}})),N=J(),L=s(()=>e.name??`v-rating-${N}`);function v(a){var _,M;let{value:l,index:n,showStar:t=!0}=a;const{onMouseenter:c,onMouseleave:o,onClick:f}=R.value[n+1],b=`${L.value}-${String(l).replace(".","-")}`,x={color:(_=g.value[n])==null?void 0:_.color,density:e.density,disabled:e.disabled,icon:(M=g.value[n])==null?void 0:M.icon,ripple:e.ripple,size:e.size,variant:"plain"};return i(k,null,[i("label",{for:b,class:C({"v-rating__item--half":e.halfIncrements&&l%1>0,"v-rating__item--full":e.halfIncrements&&l%1===0}),onMouseenter:c,onMouseleave:o,onClick:f},[i("span",{class:"v-rating__hidden"},[h(e.itemAriaLabel,l,e.length)]),t?u.item?u.item({...g.value[n],props:x,value:l,index:n,rating:d.value}):r(U,O({"aria-label":h(e.itemAriaLabel,l,e.length)},x),null):void 0]),i("input",{class:"v-rating__hidden",name:L.value,id:b,type:"radio",value:l,checked:d.value===l,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function S(a){return u["item-label"]?u["item-label"](a):a.label?i("span",null,[a.label]):i("span",null,[X("Â ")])}return Q(()=>{var l;const a=!!((l=e.itemLabels)!=null&&l.length)||u["item-label"];return r(e.tag,{class:C(["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},B.value,e.class]),style:W(e.style)},{default:()=>[r(v,{value:0,index:-1,showStar:!1},null),V.value.map((n,t)=>{var c,o;return i("div",{class:"v-rating__wrapper"},[a&&e.itemLabelPosition==="top"?S({value:n,index:t,label:(c=e.itemLabels)==null?void 0:c[t]}):void 0,i("div",{class:"v-rating__item"},[e.halfIncrements?i(k,null,[r(v,{value:n-.5,index:t*2},null),r(v,{value:n,index:t*2+1},null)]):r(v,{value:n,index:t},null)]),a&&e.itemLabelPosition==="bottom"?S({value:n,index:t,label:(o=e.itemLabels)==null?void 0:o[t]}):void 0])})]})}),{}}});export{ee as V};
