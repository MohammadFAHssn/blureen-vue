import{ax as H,a6 as D,al as E,ay as G,r as q,aP as J,Y as u,a8 as Y,bD as j,a7 as O,bE as Q,ab as U,b as s,d as i,F as C,J as W,y as F,aG as X,aH as Z,bF as p,bG as ee,ad as ae,ap as P,s as ne,am as te,v as le,b5 as w}from"./index-D-5zRg1f.js";const ie=D({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:P,default:"$ratingEmpty"},fullIcon:{type:P,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...ae(),...ee(),...p(),...Z(),...X()},"VRating"),ue=H()({name:"VRating",props:ie(),emits:{"update:modelValue":e=>!0},setup(e,R){let{slots:c}=R;const{t:y}=E(),{themeClasses:B}=G(e),x=q(),o=J(e,"modelValue"),m=u(()=>Y(parseFloat(o.value),0,Number(e.length))),I=u(()=>j(Number(e.length),1)),V=u(()=>I.value.flatMap(a=>e.halfIncrements?[a-.5,a]:[a])),v=O(-1),g=u(()=>V.value.map(a=>{const t=e.hover&&v.value>-1,n=m.value>=a,l=v.value>=a,r=(t?l:n)?e.fullIcon:e.emptyIcon,h=e.activeColor??e.color,f=n||l?h:e.color;return{isFilled:n,isHovered:l,icon:r,color:f}})),A=u(()=>[0,...V.value].map(a=>{function t(){v.value=a}function n(){v.value=-1}function l(){e.disabled||e.readonly||(o.value=m.value===a&&e.clearable?0:a)}return{onMouseenter:e.hover?t:void 0,onMouseleave:e.hover?n:void 0,onClick:l}})),z=u(()=>e.halfIncrements?1+Math.floor(Math.max(0,Number(o.value??0)-.5))*2:Math.floor(Math.max(0,Number(o.value??0)-1)));function M(){var t;const a=(t=x.value)==null?void 0:t.querySelector('[tabindex="0"]');a==null||a.focus()}function $(a){if(e.disabled||e.readonly||a.ctrlKey||a.altKey)return;const t=e.halfIncrements?.5:1;if(a.key==="ArrowRight"){const n=Math.min(Number(e.length),Number(o.value??0)+t);o.value=n,w(()=>M())}if(a.key==="ArrowLeft"){const n=Math.max(0,Number(o.value??0)-t);o.value=n,w(()=>M())}}const T=Q(),L=u(()=>e.name??`v-rating-${T}`);function b(a){var N,_;let{value:t,index:n,showStar:l=!0}=a;const{onMouseenter:d,onMouseleave:r,onClick:h}=A.value[n+1],f=`${L.value}-${String(t).replace(".","-")}`,K=n===z.value,k={color:(N=g.value[n])==null?void 0:N.color,density:e.density,disabled:e.disabled,icon:(_=g.value[n])==null?void 0:_.icon,ripple:e.ripple,size:e.size,variant:"plain",tabindex:K?0:-1,onKeydown:$};return i(C,null,[i("label",{for:f,class:F({"v-rating__item--half":e.halfIncrements&&t%1>0,"v-rating__item--full":e.halfIncrements&&t%1===0}),onMouseenter:d,onMouseleave:r,onClick:h},[i("span",{class:"v-rating__hidden"},[y(e.itemAriaLabel,t,e.length)]),l?c.item?c.item({...g.value[n],props:k,value:t,index:n,rating:m.value}):s(te,ne({"aria-label":y(e.itemAriaLabel,t,e.length)},k),null):void 0]),i("input",{class:"v-rating__hidden",name:L.value,id:f,type:"radio",value:t,checked:m.value===t,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function S(a){return c["item-label"]?c["item-label"](a):a.label?i("span",null,[a.label]):i("span",null,[le("Â ")])}return U(()=>{var t;const a=!!((t=e.itemLabels)!=null&&t.length)||c["item-label"];return s(e.tag,{class:F(["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},B.value,e.class]),style:W(e.style),ref:x},{default:()=>[s(b,{value:0,index:-1,showStar:!1},null),I.value.map((n,l)=>{var d,r;return i("div",{class:"v-rating__wrapper"},[a&&e.itemLabelPosition==="top"?S({value:n,index:l,label:(d=e.itemLabels)==null?void 0:d[l]}):void 0,i("div",{class:"v-rating__item"},[e.halfIncrements?i(C,null,[s(b,{value:n-.5,index:l*2},null),s(b,{value:n,index:l*2+1},null)]):s(b,{value:n,index:l},null)]),a&&e.itemLabelPosition==="bottom"?S({value:n,index:l,label:(r=e.itemLabels)==null?void 0:r[l]}):void 0])})]})}),{}}});export{ue as V};
