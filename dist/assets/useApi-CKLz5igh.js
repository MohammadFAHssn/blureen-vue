import{cX as c,cY as s,bs as n}from"./index-D-5zRg1f.js";import{u}from"./useLogout-D458aBn1.js";const i=c({baseUrl:"/api",fetchOptions:{headers:{Accept:"application/json"}},options:{refetch:!0,async beforeFetch({options:e}){const r=n("accessToken").value;return r&&(e.headers={...e.headers,Authorization:`Bearer ${r}`}),{options:e}},afterFetch(e){const{data:r,response:t}=e;let a=null;try{a=s(r)}catch(o){console.error(o)}return{data:a,response:t}},onFetchError(e){e.response.status===401&&u();let r=null;try{r=s(e.data)}catch(t){console.error(t)}return{error:r}}}});export{i as u};
