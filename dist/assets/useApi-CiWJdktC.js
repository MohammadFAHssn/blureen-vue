import{d5 as c,d6 as o,bG as n}from"./index-DfzFnyP4.js";import{u}from"./useLogout-C2yF_buD.js";const d=c({baseUrl:"/api",fetchOptions:{headers:{Accept:"application/json"}},options:{refetch:!0,async beforeFetch({options:e}){const r=n("accessToken").value;return r&&(e.headers={...e.headers,Authorization:`Bearer ${r}`}),{options:e}},afterFetch(e){const{data:r,response:t}=e;let a=null;try{a=o(r)}catch(s){console.error(s)}return{data:a,response:t}},onFetchError(e){e.response.status===401&&u();let r=null;try{r=o(e.data)}catch(t){console.error(t)}return{error:r}}}});export{d as u};
