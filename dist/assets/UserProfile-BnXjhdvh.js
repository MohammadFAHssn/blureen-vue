import{C as x}from"./vue3-perfect-scrollbar-ht5ocrtK.js";import{ax as h,a6 as B,ab as C,b as o,J as I,y as L,a_ as A,ad as w,k as z,bF as m,f as l,m as N,n as t,o as s,e,bB as f,bj as v,a1 as _,d as u,c as P,x as b,F,i as $,v as y,am as D}from"./index-CFqQW1Ed.js";import{u as R}from"./useAbility-BAtSpP7z.js";import{V as S}from"./VMenu-x9SKYD4p.js";import{V as T,a as U,d as j}from"./VList-C0TVRcK5.js";import{V}from"./VBadge-w1NZL3NF.js";import"./VOverlay-CTz1qlBo.js";import"./dialog-transition-Br1lv-VT.js";import"./createSimpleFunctional-DxJzgJ3a.js";import"./VDivider-A8BBDfBT.js";const E=B({start:Boolean,end:Boolean,...w(),...A()},"VListItemAction"),J=h()({name:"VListItemAction",props:E(),setup(r,i){let{slots:n}=i;return C(()=>o(r.tag,{class:L(["v-list-item-action",{"v-list-item-action--start":r.start,"v-list-item-action--end":r.end},r.class]),style:I(r.style)},n)),{}}}),M={class:"d-flex gap-2 align-center"},q={class:"text-button"},G={class:"px-4 py-2"},ot={__name:"UserProfile",setup(r){const i="https://blureen.afgc.ir/storage",n=z(),g=R(),a=m("userData");async function k(){m("accessToken").value=null,a.value.role.includes("supplier")?await n.replace("/login-supplier"):await n.replace("/login"),a.value=null,m("userAbilityRules").value=null,g.update([])}return(H,d)=>t(a)?(s(),l(V,{key:0,dot:"",bordered:"",location:"bottom right","offset-x":"1","offset-y":"2",color:"success"},{default:e(()=>[o(f,{size:"38",class:"cursor-pointer",color:t(a)&&t(a).avatar?void 0:"primary",variant:t(a)&&t(a).avatar?void 0:"tonal"},{default:e(()=>{var p;return[t(a)&&t(a).avatar?(s(),l(v,{key:0,src:`${t(i)}/${(p=t(a).avatar)==null?void 0:p.path}`},null,8,["src"])):(s(),l(_,{key:1,icon:"tabler-user"})),o(S,{activator:"parent",width:"240",location:"bottom end",offset:"12px"},{default:e(()=>[o(T,null,{default:e(()=>[o(U,null,{default:e(()=>[u("div",M,[o(J,null,{default:e(()=>[o(V,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success",bordered:""},{default:e(()=>[o(f,{color:t(a)&&t(a).avatar?void 0:"primary",variant:t(a)&&t(a).avatar?void 0:"tonal"},{default:e(()=>{var c;return[t(a)&&t(a).avatar?(s(),l(v,{key:0,src:`${t(i)}/${(c=t(a).avatar)==null?void 0:c.path}`},null,8,["src"])):(s(),l(_,{key:1,icon:"tabler-user"}))]}),_:1},8,["color","variant"])]),_:1})]),_:1}),u("div",null,[u("h6",q,b(t(a).fullName||t(a).username),1),(s(!0),P(F,null,$(t(a).role,c=>(s(),l(j,{class:"text-capitalize text-disabled"},{default:e(()=>[y(b(c),1)]),_:2},1024))),256))])])]),_:1}),o(t(x),{options:{wheelPropagation:!1}},{default:e(()=>[u("div",G,[o(D,{block:"",size:"small",color:"error","append-icon":"tabler-logout",onClick:k},{default:e(()=>[...d[0]||(d[0]=[y(" خروج ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})]}),_:1},8,["color","variant"])]),_:1})):N("",!0)}};export{ot as default};
