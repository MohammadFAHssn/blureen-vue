import{u as ee,m as te,a as le}from"./autofocus-Bac-bm5h.js";import{V as ae}from"./VCounter--y5mQl6k.js";import{V as D,m as ne}from"./VField-Dpcpi4G2.js";import{aw as ue,a6 as oe,cj as T,aE as ie,aF as se,Y as x,r as h,ab as re,bV as ce,aG as E,b,s as F,aH as de,aI as fe,d as n,F as C,bf as ve,K as me,d9 as xe,y as Ve,av as P,bW as ge}from"./index-BvJigIpw.js";const ye=["color","file","time","date","datetime-local","week","month"],he=oe({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...te(),...fe(),...ne()},"VTextField"),ke=ue()({name:"VTextField",directives:{vIntersect:T},inheritAttrs:!1,props:he(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,M){let{attrs:V,emit:k,slots:a}=M;const u=ie(e,"modelValue"),{isFocused:o,focus:_,blur:j}=se(e),{onIntersect:z}=le(e),O=x(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:(u.value??"").toString().length),U=x(()=>{if(V.maxlength)return V.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),S=x(()=>["plain","underlined"].includes(e.variant)),A=h(),I=h(),i=h(),d=ee(e),G=x(()=>ye.includes(e.type)||e.persistentPlaceholder||o.value||e.active);function w(){d.isSuppressing.value&&d.update(),o.value||_(),P(()=>{var t;i.value!==document.activeElement&&((t=i.value)==null||t.focus())})}function H(t){k("mousedown:control",t),t.target!==i.value&&(w(),t.preventDefault())}function K(t){k("click:control",t)}function W(t,l){t.stopPropagation(),w(),P(()=>{l(),ge(e["onClick:clear"],t)})}function Y(t){var v;const l=t.target;if(!((v=e.modelModifiers)!=null&&v.trim&&["text","search","password","tel","url"].includes(e.type))){u.value=l.value;return}const s=l.value,f=l.selectionStart,g=l.selectionEnd;u.value=s,P(()=>{let r=0;s.trimStart().length===l.value.length&&(r=s.length-l.value.length),f!=null&&(l.selectionStart=f-r),g!=null&&(l.selectionEnd=g-r)})}return re(()=>{const t=!!(a.counter||e.counter!==!1&&e.counter!=null),l=!!(t||a.details),[s,f]=ce(V),{modelValue:g,...v}=E.filterProps(e),r=D.filterProps(e);return b(E,F({ref:A,modelValue:u.value,"onUpdate:modelValue":c=>u.value=c,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":S.value},e.class],style:e.style},s,v,{centerAffix:!S.value,focused:o.value}),{...a,default:c=>{let{id:m,isDisabled:p,isDirty:N,isReadonly:q,isValid:J,hasDetails:L,reset:Q}=c;return b(D,F({ref:I,onMousedown:H,onClick:K,"onClick:clear":y=>W(y,Q),role:e.role},ve(r,["onClick:clear"]),{id:m.value,active:G.value||N.value,dirty:N.value||e.dirty,disabled:p.value,focused:o.value,details:L.value,error:J.value===!1}),{...a,default:y=>{let{props:{class:R,...X},controlRef:Z}=y;const B=n("input",F({ref:$=>i.value=Z.value=$,value:u.value,onInput:Y,autofocus:e.autofocus,readonly:q.value,disabled:p.value,name:d.fieldName.value,autocomplete:d.fieldAutocomplete.value,placeholder:e.placeholder,size:1,role:e.role,type:e.type,onFocus:_,onBlur:j},X,f),null);return n(C,null,[e.prefix&&n("span",{class:"v-text-field__prefix"},[n("span",{class:"v-text-field__prefix__text"},[e.prefix])]),me(a.default?n("div",{class:Ve(R),"data-no-activator":""},[a.default(),B]):xe(B,{class:R}),[[T,z,null,{once:!0}]]),e.suffix&&n("span",{class:"v-text-field__suffix"},[n("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:l?c=>{var m;return n(C,null,[(m=a.details)==null?void 0:m.call(a,c),t&&n(C,null,[n("span",null,null),b(ae,{active:e.persistentCounter||o.value,value:O.value,max:U.value,disabled:e.disabled},a.counter)])])}:void 0})}),de({},A,I,i)}});export{ke as V,he as m};
