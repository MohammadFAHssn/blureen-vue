import{ak as I,b as w,s as E,a1 as M,bH as P,cQ as R,aC as V,Z as v,a5 as p,c7 as B,U as C,Y as y,a6 as $,r as b,w as A,Q as D,cS as K}from"./index-COPkHrml.js";function S(a){const{t:s}=I();function i(c){let{name:o,color:n,...u}=c;const f={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[o],d=a[`onClick:${o}`];function m(e){e.key!=="Enter"&&e.key!==" "||(e.preventDefault(),e.stopPropagation(),P(d,new PointerEvent("click",e)))}const t=d&&f?s(`$vuetify.input.${f}`,a.label??""):void 0;return w(M,E({icon:a[`${o}Icon`],"aria-label":t,onClick:d,onKeydown:m,color:n},u),null)}return{InputIcon:i}}const x=p({focused:Boolean,"onUpdate:focused":B()},"focus");function N(a){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R();const i=V(a,"focused"),c=v(()=>({[`${s}--focused`]:i.value}));function o(){i.value=!0}function n(){i.value=!1}return{focusClasses:c,isFocused:i,focus:o,blur:n}}const h=Symbol.for("vuetify:form"),Q=p({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function U(a){const s=V(a,"modelValue"),i=v(()=>a.disabled),c=v(()=>a.readonly),o=$(!1),n=b([]),u=b([]);async function f(){const t=[];let e=!0;u.value=[],o.value=!0;for(const r of n.value){const l=await r.validate();if(l.length>0&&(e=!1,t.push({id:r.id,errorMessages:l})),!e&&a.fastFail)break}return u.value=t,o.value=!1,{valid:e,errors:u.value}}function d(){n.value.forEach(t=>t.reset())}function m(){n.value.forEach(t=>t.resetValidation())}return A(n,()=>{let t=0,e=0;const r=[];for(const l of n.value)l.isValid===!1?(e++,r.push({id:l.id,errorMessages:l.errorMessages})):l.isValid===!0&&t++;u.value=r,s.value=e>0?!1:t===n.value.length?!0:null},{deep:!0,flush:"post"}),D(h,{register:t=>{let{id:e,vm:r,validate:l,reset:g,resetValidation:k}=t;n.value.some(F=>F.id===e),n.value.push({id:e,validate:l,reset:g,resetValidation:k,vm:K(r),isValid:null,errorMessages:[]})},unregister:t=>{n.value=n.value.filter(e=>e.id!==t)},update:(t,e,r)=>{const l=n.value.find(g=>g.id===t);l&&(l.isValid=e,l.errorMessages=r)},isDisabled:i,isReadonly:c,isValidating:o,isValid:s,items:n,validateOn:v(()=>a.validateOn)}),{errors:u,isDisabled:i,isReadonly:c,isValidating:o,isValid:s,items:n,validate:f,reset:d,resetValidation:m}}function j(a){const s=C(h,null);return{...s,isReadonly:y(()=>!!((a==null?void 0:a.readonly)??(s==null?void 0:s.isReadonly.value))),isDisabled:y(()=>!!((a==null?void 0:a.disabled)??(s==null?void 0:s.isDisabled.value)))}}export{j as a,Q as b,U as c,S as d,x as m,N as u};
