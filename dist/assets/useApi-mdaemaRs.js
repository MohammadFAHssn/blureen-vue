import{cO as c,cP as o,bC as n}from"./index-CqhjILk4.js";import{u}from"./useLogout-CK_S1_eT.js";const i=c({baseUrl:"/api",fetchOptions:{headers:{Accept:"application/json"}},options:{refetch:!0,async beforeFetch({options:e}){const r=n("accessToken").value;return r&&(e.headers={...e.headers,Authorization:`Bearer ${r}`}),{options:e}},afterFetch(e){const{data:r,response:t}=e;let a=null;try{a=o(r)}catch(s){console.error(s)}return{data:a,response:t}},onFetchError(e){e.response.status===401&&u();let r=null;try{r=o(e.data)}catch(t){console.error(t)}return{error:r}}}});export{i as u};
